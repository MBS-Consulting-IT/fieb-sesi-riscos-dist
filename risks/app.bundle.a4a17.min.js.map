{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/helpers/component-error.js","webpack:///./src/js/components/form.js","webpack:///./src/js/modules/risks/risks-card.js","webpack:///./src/js/components/virtual-table.js","webpack:///./src/js/modules/risks/risks-list.js","webpack:///./src/js/helpers/component-reference.js","webpack:///./src/js/modules/risks/api/api.risks.js","webpack:///./src/js/components/toggler.js","webpack:///./src/js/modules/risks/risks-actions.js","webpack:///./src/js/components/slider.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./src/js/components/form-validation.js","webpack:///./src/js/modules/risks/risks-form.js","webpack:///./src/js/components/drawer.js","webpack:///./src/js/helpers/component-helpers.js","webpack:///./src/js/components/button-radio.js","webpack:///./src/js/modules/risks/risks-drawer.js","webpack:///./src/js/modules/risks/index.js","webpack:///./src/js/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ComponentError","message","type","errors","Error","COD_FLOW","document","getElementById","COD_FLOW_EXECUTE","COD_FLOW_EXECUTE_MASTER","COD_FLOW_EXECUTE_TASK","COD_FLOW_EXECUTE_TASK_POSITION","COD_FLOW_EXECUTE_C","ASSOCIATE_TO_COD_FLOW","ASSOCIATE_TO_COD_FLOW_EXECUTE","COD_TASK","TASK_ALIAS","IS_SIMULATION","USER_TOKEN","OrquestraData","codFlow","getInputValue","codFlowExecute","codFlowExecuteMaster","codFlowExecuteTask","codFlowExecuteTaskPosition","codFlowExecuteC","associateToCodFlow","associateToCodFlowExecute","codTask","taskAlias","isSimulation","userToken","params","inputValue","getField","fieldId","options","alwaysArray","fields","querySelectorAll","length","clearField","changeEvent","Event","forEach","field","fieldType","includes","checked","dispatchEvent","addRequired","console","error","setAttribute","removeAttribute","removeRequired","getFieldValue","checkedField","find","checkedFields","filter","map","on","target","callback","Array","isArray","conditionals","context","helperClass","element","dataset","replace","split","classList","remove","add","showField","container","$container","closest","isRequired","getAttribute","hideField","handler","events","arrEvents","resolveCallbacks","values","event","addEventListener","CreateCard","props","removeable","editable","toLowerCase","badge","modifier","getBadge","riscoTipo","riscoDescricao","riscoOrigem","riscoDetalhesOrigem","riscoConsequencia","getArrowByLevel","riscoProbabilidade","riscoImpacto","riscoNivel","treatment","getIconNameByTreatment","riscoTratamento","getActionsStats","actions","percent","done","total","toFixed","cancelled","pending","getActionsDetails","riskId","entries","getActionsDetailsByGroup","join","index","group","variant","getGroupData","getActionsDetailRow","action","acaoTitulo","acaoResponsavel","acaoPrazo","acaoDescricao","level","icon","text","getShowMoreButton","defaults","btnRemoveRef","btnEditRef","VirtualTable","table","tagName","isMultivalue","btnInsert","querySelector","getOrquestraTable","rowRef","state","rows","instance","vtable","mount","innerHTML","removeEmptyRow","handleActionAndEmpty","getRowData","addVRow","append","rowData","data","row","InsertNewRow","getTableRow","id","push","addTableRow","rowIndex","resolveRowIndex","vRow","getVRow","tableRow","markup","template","insertAdjacentHTML","newVRow","addRowTriggers","populateTableRow","clear","clearTable","btn","_vtable","reduce","substring","isEmpty","every","children","e","defaultTrigger","onEdit","indexOf","preventDefault","stopPropagation","lastElementChild","Number","isInteger","empty","hideElement","showElement","splice","RisksList","$refs","return","binds","emptySearch","emptyList","emitter","vTable","onEditCard","handleReturn","bindText","populate","risks","emit","label","textBind","textContent","getBindValue","$","mask","fieldFormat","fieldformat","ref","onRemove","onRemoveCard","onConfirm","onSaveCard","resolveReference","reference","component","elements","HTMLElement","HTMLCollection","getRisks","inpunidade","unitId","inpano","year","URL","process","search","URLSearchParams","toString","Promise","resolve","setTimeout","getActions","url","inpcodFlowExecuteMaster","fetch","then","res","json","success","parseData","txt","description","activeClass","containerDataRef","triggerDataRef","Toggler","triggers","open","setActiveClass","close","removeActiveClass","toggle","addTriggers","_toggler","trigger","toggleClass","el","RisksActions","getRisksCardCtrls","cardCtrl","RisksService","appendActionsOnRisk","parseRisksActions","removeLoadingState","appendActions","riskDescription","findIndex","risk","findRiskOnState","card","desc","groupActionsByStatus","statsMarkup","btnMarkup","statsCol","ctrlsCol","detailsMarkup","acaoStatus","viewRef","noTransitionClass","Slider","createInstance","undefined","slider","views","viewName","view","style","zIndex","openesdView","disableTransition","enableTransition","setViewPosition","_slider","left","all","off","evt","slice","errorMessage","handleChange","this","setTriggers","validateField","silent","disabled","removeError","formGroup","formHelp","addError","validateForm","groups","hasErrors","validation","result","SearchForm","config","RisksForm","pane","planType","unit","management","department","assigneeArea","areaName","handleStart","onPlanTypeChange","assignee","codarea","getAreaTextFromField","setAssignee","datepicker","language","startView","minViewMode","format","autocomplete","disableFields","Form","validate","RisksApi","handleSearchDone","handleSearchError","err","toLocaleLowerCase","drawerOpenClass","titleRef","openRef","closeRef","confirmRef","removeRef","enableRemove","closeOnClickOutside","confirmText","drawer","btnOpen","btnClose","btnConfirm","btnRemove","drawerTitle","pageBody","body","isOpen","defaultProps","title","setProps","_drawer","display","onClickOutside","contains","overflow","removeEventListener","removeOptionPrefix","option","splitSeparator","trim","groupClass","btnClass","hidePrefix","select","textvalue","inputHidden","getOrquestraField","removeTextPrefix","btnGroupHtml","buttons","getButtonMarkup","getButtonGroupMarkup","getOrquestraFieldOptions","buttonGroup","nextSibling","createButtonGroup","isEnable","reset","set","button","onClick","onChange","addListners","_buttonGroup","RisksDrawer","probability","impact","cells","Drawer","ButtonRadio","onFormFilling","onMatrixChange","addHintTriggers","disabledRemove","isFilled","some","fieldContainer","hints","nextElementSibling","hint","hideAllHints","changeHintDisplay","findHint","getMatrixValueFromLabel","cell","pos","RisksPlan","plan","init","alias","mountComponents","showListView","showSearchView","showDrawer","static","mitt"],"mappings":"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","file":"app.bundle.a4a17.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","class ComponentError extends Error {\r\n  constructor ({ name, message, type, errors } = {}) {\r\n    super()\r\n\r\n    this.name = name || 'ComponentError'\r\n    this.message = message\r\n    this.type = type\r\n  }\r\n}\r\n\r\nexport default ComponentError\r\n","import ComponentError from '../helpers/component-error'\r\n\r\nconst COD_FLOW = document.getElementById('inpCodFlow')\r\nconst COD_FLOW_EXECUTE = document.getElementById('inpCodFlowExecute')\r\nconst COD_FLOW_EXECUTE_MASTER = document.getElementById('inpCodFlowExecuteMaster')\r\nconst COD_FLOW_EXECUTE_TASK = document.getElementById('inpCodFlowExecuteTask')\r\nconst COD_FLOW_EXECUTE_TASK_POSITION = document.getElementById('inpCodFlowExecuteTaskPosition')\r\nconst COD_FLOW_EXECUTE_C = document.getElementById('inpCodFlowExecuteC')\r\nconst ASSOCIATE_TO_COD_FLOW = document.getElementById('inpAssociateToCodFlow')\r\nconst ASSOCIATE_TO_COD_FLOW_EXECUTE = document.getElementById('inpAssociateToCodFlowExecute')\r\nconst COD_TASK = document.getElementById('inpCodFlowElement')\r\nconst TASK_ALIAS = document.getElementById('inpDsFlowElementAlias')\r\nconst IS_SIMULATION = document.getElementById('inpStSimulation')\r\nconst USER_TOKEN = document.getElementById('inpToken')\r\n\r\nconst OrquestraData = {\r\n  codFlow: getInputValue(COD_FLOW),\r\n  codFlowExecute: getInputValue(COD_FLOW_EXECUTE),\r\n  codFlowExecuteMaster: getInputValue(COD_FLOW_EXECUTE_MASTER),\r\n  codFlowExecuteTask: getInputValue(COD_FLOW_EXECUTE_TASK),\r\n  codFlowExecuteTaskPosition: getInputValue(COD_FLOW_EXECUTE_TASK_POSITION),\r\n  codFlowExecuteC: getInputValue(COD_FLOW_EXECUTE_C),\r\n  associateToCodFlow: getInputValue(ASSOCIATE_TO_COD_FLOW),\r\n  associateToCodFlowExecute: getInputValue(ASSOCIATE_TO_COD_FLOW_EXECUTE),\r\n  codTask: getInputValue(COD_TASK),\r\n  taskAlias: getInputValue(TASK_ALIAS),\r\n  isSimulation: getInputValue(IS_SIMULATION),\r\n  userToken: getInputValue(USER_TOKEN)\r\n}\r\n\r\nconst params = {\r\n  name: 'Form',\r\n  container: '.form-group',\r\n  hideClass: 'u-hidden'\r\n}\r\n\r\n/**\r\n * 💡 Helper Functions\r\n */\r\nfunction getInputValue (inputValue) {\r\n  return inputValue\r\n    ? inputValue.value\r\n    : null\r\n}\r\n\r\n/**\r\n * 🔑 Public Methods\r\n */\r\nfunction on (target, callback) {\r\n  if (typeof target !== 'string' && !Array.isArray(target)) {\r\n    throw new ComponentError({\r\n      name: params.name,\r\n      message:\r\n      `Erro ao criar o evento 'on', \\n${target} não é um parâmetro válido. Você deve utilizar como target somente strings ou arrays de strings.`,\r\n      type: 'invalid_target_for_on_event'\r\n    })\r\n  }\r\n\r\n  if (typeof callback !== 'function') {\r\n    throw new ComponentError({\r\n      name: params.name,\r\n      message:\r\n      `Erro ao criar o evento 'on', \\n${callback} não é um parâmetro válido. Você deve utilizar como callback somente funções.`,\r\n      type: 'invalid_callback_for_on_event'\r\n    })\r\n  }\r\n\r\n  const targets = typeof target === 'string'\r\n    ? [target]\r\n    : target\r\n\r\n  if (targets.includes(OrquestraData.taskAlias)) {\r\n    callback(OrquestraData.taskAlias)\r\n  }\r\n}\r\n\r\nfunction conditionals (context = document, helperClass = 'u-hidden') {\r\n  context\r\n    .querySelectorAll('[data-if]')\r\n    .forEach(element => {\r\n      const currentAlias = element.dataset.if\r\n        .replace(/[\\s[\\]]/g, '') // remove white spaces and brakets\r\n        .split(',') // splits if it's a list, using comma\r\n\r\n      if (currentAlias.includes(OrquestraData.taskAlias)) {\r\n        element.classList.remove(helperClass)\r\n      } else {\r\n        element.classList.add(helperClass)\r\n      }\r\n    })\r\n}\r\n\r\nfunction getField (fieldId, options = { alwaysArray: false }) {\r\n  const fields = document.querySelectorAll(`[xname=\"inp${fieldId}\"]`)\r\n\r\n  if (!fields.length) {\r\n    return null\r\n  }\r\n\r\n  if (options.alwaysArray) {\r\n    return [...fields]\r\n  }\r\n\r\n  return fields.length > 1\r\n    ? [...fields]\r\n    : fields[0]\r\n}\r\n\r\nfunction clearField (fieldId) {\r\n  const changeEvent = new Event('change')\r\n  const fields = getField(fieldId, { alwaysArray: true })\r\n\r\n  fields.forEach(field => {\r\n    const fieldType = field.type\r\n\r\n    if (['text', 'textarea', 'select-one', 'hidden'].includes(fieldType)) {\r\n      field.value = ''\r\n    } else {\r\n      field.checked = false\r\n    }\r\n\r\n    field.dispatchEvent(changeEvent)\r\n  })\r\n}\r\n\r\nfunction addRequired (fieldId) {\r\n  const fields = getField(fieldId, { alwaysArray: true })\r\n\r\n  if (!fields) {\r\n    return console.error(`[Form] Unable to add required. Field reference ${fieldId} not found`)\r\n  }\r\n\r\n  fields.forEach(field => {\r\n    field.setAttribute('required', 'S')\r\n    field.removeAttribute('data-was-required')\r\n  })\r\n}\r\n\r\nfunction removeRequired (fieldId) {\r\n  const fields = getField(fieldId, { alwaysArray: true })\r\n\r\n  if (!fields) {\r\n    return console.error(`[Form] Unable to remove required. Field reference ${fieldId} not found`)\r\n  }\r\n\r\n  fields.forEach(field => {\r\n    field.setAttribute('required', 'N')\r\n    field.setAttribute('data-was-required', true)\r\n  })\r\n}\r\n\r\nfunction showField (fieldId, container = params.container) {\r\n  const fields = getField(fieldId, { alwaysArray: true })\r\n  const $container = fields[0].closest(container)\r\n  const isRequired = fields\r\n    .filter(field => field.getAttribute('data-was-required')).length > 0\r\n\r\n  $container.classList.remove(params.hideClass)\r\n\r\n  if (isRequired) {\r\n    addRequired(fieldId)\r\n  }\r\n}\r\n\r\nfunction hideField (fieldId, container = params.container) {\r\n  const fields = getField(fieldId, { alwaysArray: true })\r\n  const $container = fields[0].closest(container)\r\n  const isRequired = fields\r\n    .filter(field => field.getAttribute('required') === 'S').length > 0\r\n\r\n  $container.classList.add(params.hideClass)\r\n  clearField(fieldId)\r\n\r\n  if (isRequired) {\r\n    removeRequired(fieldId)\r\n  }\r\n}\r\n\r\nfunction getFieldValue (fieldId) {\r\n  const fields = getField(fieldId, { alwaysArray: true })\r\n  const fieldType = fields[0].type\r\n\r\n  if (['text', 'textarea', 'select-one', 'hidden'].includes(fieldType)) {\r\n    return fields[0].value\r\n  }\r\n\r\n  if (fieldType === 'radio') {\r\n    const checkedField = fields.find(field => field.checked)\r\n\r\n    return checkedField\r\n      ? checkedField.value\r\n      : null\r\n  }\r\n\r\n  if (fieldType === 'checkbox') {\r\n    const checkedFields = fields\r\n      .filter(field => field.checked)\r\n      .map(field => field.value)\r\n\r\n    return checkedFields.length\r\n      ? checkedFields\r\n      : null\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nfunction handler ({ target, events }, callback) {\r\n  const fields = getField(target, { alwaysArray: true })\r\n  const arrEvents = typeof events === 'string'\r\n    ? [events]\r\n    : events\r\n\r\n  if (!callback) {\r\n    return console.error('[Form] Unable to attach handler. You must inform a callback param')\r\n  }\r\n\r\n  fields.forEach(field => {\r\n    arrEvents.forEach(event => {\r\n      field.addEventListener(event, resolveCallbacks)\r\n    })\r\n  })\r\n\r\n  resolveCallbacks()\r\n\r\n  function resolveCallbacks () {\r\n    const values = getFieldValue(target)\r\n    callback(values)\r\n  }\r\n}\r\n\r\n/**\r\n * 🔑 Public API\r\n */\r\nexport default {\r\n  ...OrquestraData,\r\n  on,\r\n  conditionals,\r\n  getField,\r\n  getFieldValue,\r\n  clearField,\r\n  addRequired,\r\n  removeRequired,\r\n  showField,\r\n  hideField,\r\n  handler\r\n}\r\n","export default function CreateCard (props) {\n  props = {\n    editable: true,\n    removeable: true,\n    ...props\n  }\n\n  const {\n    badge,\n    modifier\n  } = getBadge(props.riscoTipo)\n\n  return `\n<div class=\"card\">\n  <div class=\"card-ribbon -sm ${modifier}\"></div>\n  <div class=\"card-row\">\n    <div class=\"columns -auto\">\n      <div class=\"column\">\n        ${badge}\n      </div>\n      <div class=\"column\">\n        <label class=\"form-label\">${props.riscoTipo}</label>\n        <p data-risk-description>${props.riscoDescricao}</p>\n      </div>\n    </div>\n  </div>\n  <div class=\"card-row\">\n    <div class=\"columns\">\n      <div class=\"column\">\n        <label\n          class=\"form-label -inline\"\n          data-help=\"(${props.riscoOrigem})\"\n        >Origem</label>\n        <p>${props.riscoDetalhesOrigem}</p>\n      </div>\n      <div class=\"column\">\n        <label class=\"form-label\">Consequência</label>\n        <p>${props.riscoConsequencia}</p>\n      </div>\n    </div>\n  </div>\n  <div class=\"card-row\">\n    <div class=\"columns -auto\">\n      <div class=\"column\">\n        <span class=\"form-help\">Probabilidade</span>\n        ${getArrowByLevel(props.riscoProbabilidade)}\n      </div>\n      <div class=\"column\">\n        <span class=\"form-help\">Impacto</span>\n        ${getArrowByLevel(props.riscoImpacto)}\n      </div>\n      <div class=\"column -grow\">\n        <span class=\"form-help\">Nível</span><br>\n        <span class=\"tag -blue\">${props.riscoNivel}</span>\n      </div>\n      <div class=\"column -gapless\">\n        <div class=\"icon-badge -sm -boxed\">\n          <i class=\"fas fa-${getIconNameByTreatment(props.riscoTratamento)}\"></i>\n        </div>\n      </div>\n      <div class=\"column\">\n        <span class=\"form-help\">Tratamento</span>\n        <label class=\"form-label\">${props.riscoTratamento}</label>\n      </div>\n    </div>\n  </div>\n  ${getCardActions(props)}\n</div>\n`\n}\n\nexport function getActionsStats (actions) {\n  const percent = {\n    done: (actions.done.length * 100 / actions.total).toFixed(3),\n    cancelled: (actions.cancelled.length * 100 / actions.total).toFixed(3)\n  }\n\n  return `\n<div class=\"barchart\">\n  <div class=\"barchart-partial -blue\" style=\"flex-basis: ${percent.done}%;\"></div>\n  <div class=\"barchart-partial -grey\" style=\"flex-basis: ${percent.cancelled}%;\"></div>\n</div>\n<div class=\"barchart-legend\">\n  <span class=\"barchart-legend-item\">\n    <i class=\"barchart-legend-icon -blue fas fa-check\"></i>${actions.done.length}\n  </span>\n  <span class=\"barchart-legend-item\">\n    <i class=\"barchart-legend-icon -grey fas fa-times\"></i>${actions.cancelled.length}\n  </span>\n  <span class=\"barchart-legend-item\">\n    <i class=\"barchart-legend-icon fas fa-adjust\"></i>${actions.pending.length}\n  </span>\n  <span class=\"barchart-legend-item u-text-deemphasize\">(Total ${actions.total})</span>\n</div>\n`\n}\n\nexport function getActionsDetails ({ total, ...actions }, riskId) {\n  return `\n<div class=\"card-row -expandable\" data-toggler=\"${riskId}\">\n  ${Object.entries(actions)\n      .map(getActionsDetailsByGroup)\n      .join('')\n    }\n</div>\n`\n}\n\nfunction getActionsDetailsByGroup ([group, actions], index) {\n  const { name, variant } = getGroupData(group)\n\n  if (!actions.length) {\n    return ''\n  }\n\n  return `\n<div class=\"columns risk-actions-list\">\n  <div class=\"column -col-1-3\">\n    <span class=\"bullet ${variant}\"><strong>${name}</strong></span>\n  </div>\n  <div class=\"column -col-2-3\">\n    <ul class=\"stack-list -minimal\">${actions.map(getActionsDetailRow).join('')}</ul>\n  </div>\n</div>\n`\n}\n\nfunction getActionsDetailRow (action) {\n  return `\n<li class=\"stack risk-action-item\">\n  <div class=\"columns -auto\">\n    <div class=\"column -grow\">\n      <h4 class=\"stack-title\">${action.acaoTitulo}</h4>\n    </div>\n    <div class=\"column\">\n      <i class=\"stack-label-icon fas fa-user\"></i>\n      <span class=\"stack-label\">${action.acaoResponsavel}</span>\n    </div>\n    <div class=\"column\">\n      <i class=\"stack-label-icon fas fa-calendar\"></i>\n      <span class=\"stack-label\">${action.acaoPrazo}</span>\n    </div>\n  </div>\n  <p>\n    ${action.acaoDescricao}\n  </p>\n</li>\n`\n}\n\nfunction getGroupData (group) {\n  if (group === 'done') {\n    return {\n      name: 'Concluídas',\n      variant: '-blue'\n    }\n  }\n  if (group === 'cancelled') {\n    return {\n      name: 'Canceladas',\n      variant: '-grey'\n    }\n  }\n  if (group === 'pending') {\n    return {\n      name: 'Pendentes',\n      variant: ''\n    }\n  }\n\n  return null\n}\n\nconst riskBadge = `\n<div class=\"icon-badge -red -sm\">\n  <i class=\"fas fa-fire\"></i>\n</div>`\n\nconst opportunityBadge = `\n<div class=\"icon-badge -green -sm\">\n  <i class=\"fas fa-seedling\"></i>\n</div>`\n\nfunction getBadge (type) {\n  type = type.toLowerCase()\n\n  if (type === 'risco') {\n    return {\n      badge: riskBadge,\n      modifier: '-red'\n    }\n  }\n  if (type === 'oportunidade') {\n    return {\n      badge: opportunityBadge,\n      modifier: '-green'\n    }\n  }\n\n  return null\n}\n\nfunction getArrowByLevel (level) {\n  let icon = null\n  const text = level\n  level = level.toLowerCase()\n\n  if (level === 'baixo' || level === 'baixa') {\n    icon = '<i class=\"fas fa-long-arrow-alt-down u-color-blue-300\"></i>'\n  }\n\n  if (level === 'médio' || level === 'média') {\n    icon = '<i class=\"fas fa-minus u-color-grey-500\"></i>'\n  }\n\n  if (level === 'alto' || level === 'alta') {\n    icon = '<i class=\"fas fa-long-arrow-alt-up u-color-blue-700\"></i>'\n  }\n\n  return `\n  <label class=\"form-label\">\n    ${icon} ${text}\n  </label>\n  `\n}\n\nfunction getIconNameByTreatment (treatment) {\n  if (treatment === 'Explorar') {\n    return 'mountain'\n  }\n\n  if (treatment === 'Mitigar') {\n    return 'umbrella'\n  }\n\n  if (treatment === 'Monitorar') {\n    return 'heartbeat'\n  }\n\n  if (treatment === 'Transferir') {\n    return 'share'\n  }\n\n  if (treatment === 'Aceitar') {\n    return 'check-double'\n  }\n\n  if (treatment === 'Evitar') {\n    return 'exclamation-triangle'\n  }\n\n  return null\n}\n\nfunction getCardActions ({ removeable, editable }) {\n  return `\n<div class=\"card-controls\">\n  <div class=\"columns -auto\">\n    <div class=\"column -grow\" data-risk-stats>\n      ${removeable ? getRemoveButton() : ''}\n    </div>\n    <div class=\"column\" data-risk-ctrls>\n      ${editable ? getEditButton() : ''}\n    </div>\n  </div>\n</div>\n  `\n}\n\nfunction getEditButton () {\n  return `\n<button class=\"btn btn-link\" data-vtable-edit>\n  <i class=\"fas fa-edit btn-icon\"></i>\n  <span>Editar</span>\n</button>\n  `\n}\n\nfunction getRemoveButton () {\n  return `\n<button class=\"btn btn-link -red\" data-vtable-remove>\n  <i class=\"fas fa-trash btn-icon\"></i>\n  <span>Excluir</span>\n</button>\n  `\n}\n\nexport function getShowMoreButton (riskId) {\n  return `\n<button class=\"btn btn-link\" data-toggler-trigger=\"${riskId}\">\n  <span>Ações</span>\n  <i class=\"fas fa-angle-up btn-icon\"></i>\n</button>\n  `\n}\n","import ComponentError from '../helpers/component-error'\r\n\r\nconst defaults = {\r\n  btnRemoveRef: '[data-vtable-remove]',\r\n  btnEditRef: '[data-vtable-edit]'\r\n}\r\n\r\nexport default function VirtualTable (params) {\r\n  params = {\r\n    ...defaults,\r\n    ...params,\r\n    // @todo avaliar uso ou remover\r\n    rowRef: 'data-vtable',\r\n    name: 'VirtualTable'\r\n  }\r\n\r\n  const {\r\n    table,\r\n    btnInsert\r\n  } = getOrquestraTable(params)\r\n\r\n  const state = {\r\n    rows: [],\r\n    props: params.props\r\n  }\r\n\r\n  const instance = {\r\n    table,\r\n    btnInsert,\r\n    vtable: params.vtable,\r\n    mount,\r\n    append,\r\n    remove,\r\n    replace,\r\n    clear\r\n  }\r\n\r\n  unwireTableControls()\r\n\r\n  instance.vtable._vtable = instance\r\n\r\n  return instance\r\n\r\n  /**\r\n   * 🔒 Private Methods\r\n   */\r\n  function unwireTableControls () {\r\n    [\r\n      ...instance.table.querySelectorAll('.btn-delete-mv'),\r\n      instance.btnInsert\r\n    ]\r\n      .forEach(btn => btn\r\n        ? btn.removeAttribute('onclick')\r\n        : ''\r\n      )\r\n  }\r\n\r\n  function setRows () {\r\n    state.rows = [\r\n      ...instance.table.querySelectorAll('tr:not(.header)')\r\n    ].filter(removeEmptyRow)\r\n\r\n    // state.rows = [\r\n    //   ...instance.table.querySelectorAll('tr:not(.header)')\r\n    // ]\r\n    //   .map(getRowData)\r\n    //   .filter(removeEmptyRow)\r\n  }\r\n\r\n  function getRowData (row) {\r\n    return [\r\n      ...row.querySelectorAll('[xname]')\r\n    ].reduce((fields, field) => {\r\n      const id = field.getAttribute('xname').substring(3)\r\n\r\n      return {\r\n        ...fields,\r\n        [id]: field.value\r\n      }\r\n      // const value = field.value === ''\r\n      //   ? null\r\n      //   : field.value\r\n\r\n      // const isSelect = field.tagName.toLowerCase() === 'select'\r\n\r\n      // const option = isSelect\r\n      //   ? field.querySelector(`option[value=\"${value}\"]`)\r\n      //   : null\r\n\r\n      // const text = isSelect && option\r\n      //   ? field.querySelector(`option[value=\"${value}\"]`).textContent\r\n      //   : field.value\r\n\r\n      // fields[id] = {\r\n      //   id,\r\n      //   value,\r\n      //   text\r\n      // }\r\n      // return fields\r\n    }, {})\r\n  }\r\n\r\n  function removeEmptyRow (row, rowIndex) {\r\n    const rowData = getRowData(row)\r\n    const isEmpty = Object.values(rowData)\r\n      .every(field => !field)\r\n\r\n    if (isEmpty && rowIndex > 0) {\r\n      getTableRow(rowIndex).remove()\r\n    }\r\n\r\n    return !isEmpty\r\n  }\r\n\r\n  // @todo avaliar necessidade...\r\n  // function isTableRowEmpty (row) {\r\n  //   return [...row.querySelectorAll('[xname]')]\r\n  //     .every(field => !field.value)\r\n  // }\r\n\r\n  function getVRow (index) {\r\n    return instance.vtable.children[index]\r\n  }\r\n\r\n  function getTableRow (index) {\r\n    return instance.table\r\n      .querySelector(`tr:nth-child(${index + 2})`)\r\n  }\r\n\r\n  function addRowTriggers (vRow) {\r\n    vRow.querySelectorAll(params.btnRemoveRef)\r\n      .forEach(btn => {\r\n        btn.addEventListener('click', e =>\r\n          defaultTrigger(e, vRow, remove)\r\n        )\r\n      })\r\n\r\n    vRow.querySelectorAll(params.btnEditRef)\r\n      .forEach(btn => {\r\n        btn.addEventListener('click', e =>\r\n          defaultTrigger(e, vRow, params.onEdit)\r\n        )\r\n      })\r\n  }\r\n\r\n  function defaultTrigger (e, vRow, callback) {\r\n    const index = [...instance.vtable.children].indexOf(vRow)\r\n\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    callback(index, getRowData(state.rows[index]), vRow)\r\n  }\r\n\r\n  function addTableRow (data) {\r\n    let row\r\n\r\n    if (!state.rows.length) {\r\n      row = getTableRow(0)\r\n    } else {\r\n      InsertNewRow(instance.btnInsert, true)\r\n\r\n      row = instance.table\r\n        .querySelector('tr:last-child')\r\n    }\r\n\r\n    Object.entries(data)\r\n      .forEach(([id, value]) => {\r\n        const field = row.querySelector(`[xname=inp${id}]`)\r\n\r\n        if (field) {\r\n          field.value = value\r\n        }\r\n      })\r\n\r\n    state.rows.push(row)\r\n  }\r\n\r\n  function addVRow (rowData) {\r\n    const markup = params.template({ ...rowData, ...state.props })\r\n\r\n    instance.vtable\r\n      .insertAdjacentHTML('beforeend', markup)\r\n\r\n    const vRow = instance.vtable.lastElementChild\r\n\r\n    vRow.setAttribute(params.rowRef, '')\r\n\r\n    addRowTriggers(vRow)\r\n  }\r\n\r\n  function populateTableRow (row, data) {\r\n    Object.entries(data)\r\n      .forEach(([id, value]) => {\r\n        const field = row.querySelector(`[xname=inp${id}]`)\r\n\r\n        if (field) {\r\n          field.value = value\r\n        }\r\n      })\r\n  }\r\n\r\n  function clearTable () {\r\n    InsertNewRow(instance.btnInsert, true)\r\n\r\n    instance.table\r\n      .querySelectorAll('tr:not(.header):not(:last-child')\r\n      .forEach(row => row.remove())\r\n  }\r\n\r\n  function resolveRowIndex (row) {\r\n    if (Number.isInteger(row)) {\r\n      return row\r\n    }\r\n\r\n    const index = [...instance.vtable.children].indexOf(row)\r\n\r\n    return index >= 0\r\n      ? index\r\n      : null\r\n  }\r\n\r\n  function handleActionAndEmpty () {\r\n    if (params.empty) {\r\n      state.rows.length\r\n        ? hideElement(params.empty)\r\n        : showElement(params.empty)\r\n    }\r\n    if (params.action) {\r\n      state.rows.length\r\n        ? showElement(params.action)\r\n        : hideElement(params.action)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔑 Public Methods\r\n   */\r\n  function mount () {\r\n    instance.vtable.innerHTML = null\r\n\r\n    setRows()\r\n    handleActionAndEmpty()\r\n\r\n    state.rows\r\n      .map(getRowData)\r\n      .forEach(addVRow)\r\n  }\r\n\r\n  function append (rowData) {\r\n    addVRow(rowData)\r\n    addTableRow(rowData)\r\n    handleActionAndEmpty()\r\n  }\r\n\r\n  function remove (row) {\r\n    const rowIndex = resolveRowIndex(row)\r\n\r\n    if (rowIndex === null) {\r\n      return\r\n    }\r\n\r\n    getVRow(rowIndex).remove()\r\n\r\n    if (state.rows.length === 1) {\r\n      clearTable()\r\n    } else {\r\n      getTableRow(rowIndex).remove()\r\n    }\r\n\r\n    state.rows.splice(rowIndex, 1)\r\n    handleActionAndEmpty()\r\n  }\r\n\r\n  function replace (row, rowData) {\r\n    const rowIndex = resolveRowIndex(row)\r\n\r\n    if (rowIndex === null) {\r\n      return\r\n    }\r\n\r\n    const vRow = getVRow(rowIndex)\r\n    const tableRow = getTableRow(rowIndex)\r\n    const markup = params.template({ ...rowData, ...state.props })\r\n\r\n    vRow.insertAdjacentHTML('afterend', markup)\r\n    vRow.remove()\r\n\r\n    const newVRow = getVRow(rowIndex)\r\n\r\n    newVRow.setAttribute(params.rowRef, '')\r\n    addRowTriggers(newVRow)\r\n    populateTableRow(tableRow, rowData)\r\n  }\r\n\r\n  function clear () {\r\n    state.rows = []\r\n    instance.vtable.innerHTML = null\r\n\r\n    clearTable()\r\n    handleActionAndEmpty()\r\n  }\r\n}\r\n\r\n/**\r\n * 💡 Helper Functions\r\n */\r\n\r\nfunction showElement (element) {\r\n  element.classList.remove('u-hidden')\r\n}\r\n\r\nfunction hideElement (element) {\r\n  element.classList.add('u-hidden')\r\n}\r\n\r\nfunction getOrquestraTable ({ table, name }) {\r\n  const tagName = table.tagName.toLowerCase()\r\n  const isMultivalue = table.getAttribute('mult') === 'S'\r\n  const btnInsert = table.querySelector('#BtnInsertNewRow')\r\n\r\n  if (tagName !== 'table') {\r\n    throw new ComponentError({\r\n      name,\r\n      message:\r\n      'Erro ao iniciar componente.\\nO parâmetro table deve ser uma tabela',\r\n      type: 'table_not_found'\r\n    })\r\n  }\r\n\r\n  if (!isMultivalue) {\r\n    throw new ComponentError({\r\n      name,\r\n      message:\r\n      'Erro ao iniciar componente.\\nO parâmetro table deve ser uma tabela multivalorada',\r\n      type: 'multivalue_table_not_found'\r\n    })\r\n  }\r\n\r\n  return { table, btnInsert }\r\n}\r\n","import VirtualTable from '../../components/virtual-table'\r\nimport CreateCard from './risks-card'\r\n\r\nconst RisksList = function () {\r\n  const $refs = {\r\n    return: document.querySelector('#btn-risks-return'),\r\n    table: document.querySelector('#risk-table'),\r\n    vtable: document.querySelector('#risk-list'),\r\n    binds: document.querySelectorAll('[data-text-bind]'),\r\n    emptySearch: document.querySelector('#risks-search-empty'),\r\n    emptyList: document.querySelector('#risks-list-empty'),\r\n    action: document.querySelector('#risk-list-action')\r\n  }\r\n\r\n  const state = {\r\n    emitter: null\r\n  }\r\n\r\n  return {\r\n    mount,\r\n    populate,\r\n    append,\r\n    clear\r\n  }\r\n\r\n  /**\r\n   * 🔑 Public Methods\r\n   */\r\n  function mount ({ emitter, props = {} }) {\r\n    state.emitter = emitter\r\n\r\n    state.vTable = VirtualTable({\r\n      props,\r\n      table: $refs.table,\r\n      vtable: $refs.vtable,\r\n      empty: $refs.emptyList,\r\n      action: $refs.action,\r\n      template: CreateCard,\r\n      onEdit: onEditCard\r\n    })\r\n\r\n    state.vTable.mount()\r\n\r\n    $refs.return\r\n      .addEventListener('click', handleReturn)\r\n\r\n    $refs.binds\r\n      .forEach(bindText)\r\n\r\n    if (props.static) {\r\n      removeAddButtons()\r\n    }\r\n  }\r\n\r\n  function populate (risks) {\r\n    $refs.emptyList\r\n      .classList\r\n      .add('u-hidden')\r\n\r\n    if (!risks.length) {\r\n      $refs.emptySearch\r\n        .classList\r\n        .remove('u-hidden')\r\n    } else {\r\n      risks.forEach(append)\r\n    }\r\n  }\r\n\r\n  function append (data) {\r\n    // @todo ajustar\r\n    $refs.emptySearch\r\n      .classList\r\n      .add('u-hidden')\r\n\r\n    state.vTable.append(data)\r\n  }\r\n\r\n  function clear () {\r\n    state.vTable.clear()\r\n  }\r\n\r\n  /**\r\n   * 🔒 Private Methods\r\n   */\r\n  function handleReturn (e) {\r\n    e.preventDefault()\r\n    state.emitter.emit('search-return')\r\n  }\r\n\r\n  function bindText (label) {\r\n    const id = label.dataset.textBind\r\n    const field = document.querySelector(`[xname=inp${id}]`)\r\n\r\n    if (!field) {\r\n      return\r\n    }\r\n\r\n    label.textContent = getBindValue(field)\r\n\r\n    // Datepicker Orquestra não dispara evento\r\n    // nativo `change`, obrigando uso de jQuery\r\n    $(field).on('change', e => {\r\n      label.textContent = getBindValue(e.target)\r\n    })\r\n  }\r\n\r\n  function getBindValue (field) {\r\n    const id = field.getAttribute('xname').substring(3)\r\n    const type = field.tagName.toLowerCase()\r\n    const mask = document.querySelector(`[xid=div${id}]`)\r\n    const fieldFormat = field.dataset.fieldformat\r\n      ? field.dataset.fieldformat.toLowerCase()\r\n      : null\r\n\r\n    if (!field.value || field.value === '') {\r\n      return ''\r\n    }\r\n\r\n    if (field.type === 'hidden' && fieldFormat === 'select') {\r\n      return mask\r\n        ? mask.textContent\r\n        : ''\r\n    }\r\n\r\n    if (type === 'select') {\r\n      return field\r\n        .querySelector(`option[value=\"${field.value}\"]`)\r\n        .textContent\r\n    }\r\n\r\n    return field.value\r\n  }\r\n\r\n  function removeAddButtons () {\r\n    document.querySelectorAll('[data-drawer-open]')\r\n      .forEach(btn => btn.remove())\r\n  }\r\n\r\n  function onEditCard (index, data, vRow) {\r\n    state.emitter.emit('drawer-edit', {\r\n      data,\r\n      ref: vRow,\r\n      onRemove: onRemoveCard,\r\n      onConfirm: onSaveCard\r\n    })\r\n  }\r\n\r\n  function onRemoveCard (row) {\r\n    state.vTable.remove(row)\r\n  }\r\n\r\n  function onSaveCard (row, data) {\r\n    state.vTable.replace(row, data)\r\n    state.emitter.emit('drawer-edit-save', data)\r\n  }\r\n}\r\n\r\nexport default RisksList()\r\n","import ComponentError from './component-error'\r\n\r\nexport default function resolveReference (reference, component) {\r\n  // Any QuerySelector string\r\n  // e.g. 'div > .class'\r\n  if (typeof reference === 'string') {\r\n    let elements\r\n\r\n    try {\r\n      elements = [...document.querySelectorAll(reference)]\r\n    } catch (error) {\r\n      throw new ComponentError({\r\n        name: component,\r\n        message:\r\n        `Erro ao inicializar a instância do componente.\\n${reference} não é um seletor válido`,\r\n        type: 'reference_queryselector_validation'\r\n      })\r\n    }\r\n\r\n    if (!elements.length) {\r\n      throw new ComponentError({\r\n        name: component,\r\n        message:\r\n        `Erro ao inicializar a instância do componente.\\nNão foi encontrado nenhum elemento para o seletor ${reference}`,\r\n        type: 'reference_queryselector_empty'\r\n      })\r\n    }\r\n\r\n    return elements\r\n  }\r\n\r\n  // Single HTML Elements\r\n  // e.g. document.querySelector('div')\r\n  if (reference instanceof HTMLElement) {\r\n    return reference\r\n  }\r\n\r\n  // HTML Collection and Node List\r\n  // HTMLCollection: e.g. document.getElementsByClassName('myClass')\r\n  // NodeList: e.g. document.querySelectorAll('div')\r\n  if (reference instanceof HTMLCollection) {\r\n    return [...reference]\r\n  }\r\n\r\n  // Array of HTML Elements\r\n  // e.g. [document.querySelector('#a'), document.querySelector('#b')]\r\n  if (Array.isArray(reference)) {\r\n    if (!reference.length) {\r\n      throw new ComponentError({\r\n        name: component,\r\n        message:\r\n        'Erro ao inicializar a instância do componente.\\nVocê não pode chamar o construtor com array vazio',\r\n        type: 'reference_array_empty'\r\n      })\r\n    }\r\n\r\n    reference.forEach(element => {\r\n      if (!(element instanceof HTMLElement)) {\r\n        throw new ComponentError({\r\n          name: component,\r\n          message:\r\n          'Erro ao inicializar a instância do componente\\nVocê não pode chamar o construtor com arrays que possuam elementos diferentes de HTMLElement',\r\n          type: 'reference_array_validation'\r\n        })\r\n      }\r\n    })\r\n\r\n    return reference\r\n  }\r\n\r\n  throw new ComponentError({\r\n    name: component,\r\n    message:\r\n    'Erro ao inicializar a instância do componente.\\nVocê deve chamar o construtor com strings (seletores CSS), HTMLElement, HTMLElement[], HTMLCollection ou NodeList',\r\n    type: 'reference_invalid_type'\r\n  })\r\n}\r\n","const ORQUESTRA_DATASOURCE_RISKS = process.env.DATASOURCE_BASE_URL + process.env.DATASOURCE_RISKS\r\nconst ORQUESTRA_DATASOURCE_ACTIONS = process.env.ORQUESTRA_BASE_URL + '/api/json/datasource/get/1.0' + process.env.DATASOURCE_ACTIONS\r\n\r\nconst getRisks = function ({ unitId, year }) {\r\n  const url = new URL(ORQUESTRA_DATASOURCE_RISKS)\r\n\r\n  const params = {\r\n    inpunidade: unitId,\r\n    inpano: year\r\n  }\r\n\r\n  url.search = new URLSearchParams(params).toString()\r\n\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => resolve([]), 600)\r\n  })\r\n\r\n  // return fetch(url)\r\n  //   .then(res => res.json())\r\n  //   .then(({ success }) => {\r\n  //     return success.map(({ fields }) => fields)\r\n  //   })\r\n}\r\n\r\nconst getActions = function ({ codFlowExecute }) {\r\n  const url = new URL(ORQUESTRA_DATASOURCE_ACTIONS)\r\n\r\n  const params = {\r\n    inpcodFlowExecuteMaster: codFlowExecute\r\n  }\r\n\r\n  url.search = new URLSearchParams(params).toString()\r\n\r\n  return fetch(url)\r\n    .then(res => res.json())\r\n    .then(({ success }) =>\r\n      success.reduce(parseData, {})\r\n    )\r\n}\r\n\r\nexport default {\r\n  getRisks,\r\n  getActions\r\n}\r\n\r\n/**\r\n * 🔒 Private Methods\r\n */\r\nconst parseData = (risks, row) => {\r\n  const { fields, txt } = row\r\n\r\n  if (!risks[fields.riskId]) {\r\n    risks[fields.riskId] = {\r\n      actions: {}\r\n    }\r\n\r\n    if (fields.id === 'riscoDescricao') {\r\n      risks[fields.riskId].description = fields.value\r\n      return risks\r\n    }\r\n  }\r\n\r\n  if (fields.id === 'riscoDescricao') {\r\n    return risks\r\n  }\r\n\r\n  if (!risks[fields.riskId].actions[txt]) {\r\n    risks[fields.riskId].actions[txt] = {}\r\n  }\r\n\r\n  risks[fields.riskId].actions[txt][fields.id] = fields.value\r\n\r\n  return risks\r\n}\r\n","const defaults = {\r\n  activeClass: '-open',\r\n  containerDataRef: 'data-toggler',\r\n  triggerDataRef: 'data-toggler-trigger'\r\n}\r\n\r\nexport default function Toggler (params) {\r\n  params = {\r\n    ...defaults,\r\n    ...params,\r\n    name: 'Toggler'\r\n  }\r\n\r\n  const {\r\n    container,\r\n    triggers\r\n  } = getElements(params)\r\n\r\n  const instance = {\r\n    container,\r\n    triggers,\r\n    open,\r\n    close,\r\n    toggle\r\n  }\r\n\r\n  mount()\r\n\r\n  instance.container._toggler = instance\r\n\r\n  return instance\r\n\r\n  /**\r\n   * 🔒 Private Methods\r\n   */\r\n  function mount () {\r\n    instance.triggers.forEach(addTriggers)\r\n  }\r\n\r\n  function addTriggers (trigger) {\r\n    trigger.addEventListener('click', e => {\r\n      e.preventDefault()\r\n      toggle()\r\n    })\r\n  }\r\n\r\n  function toggleClass (el) {\r\n    el.classList\r\n      .toggle(params.activeClass)\r\n  }\r\n\r\n  function setActiveClass (el) {\r\n    el.classList\r\n      .add(params.activeClass)\r\n  }\r\n\r\n  function removeActiveClass (el) {\r\n    el.classList\r\n      .remove(params.activeClass)\r\n  }\r\n\r\n  /**\r\n   * 🔑 Public Methods\r\n   */\r\n  function open () {\r\n    setActiveClass(instance.container)\r\n\r\n    instance.triggers\r\n      .forEach(setActiveClass)\r\n  }\r\n\r\n  function close () {\r\n    removeActiveClass(instance.container)\r\n\r\n    instance.triggers\r\n      .forEach(removeActiveClass)\r\n  }\r\n\r\n  function toggle () {\r\n    toggleClass(instance.container)\r\n\r\n    instance.triggers\r\n      .forEach(toggleClass)\r\n  }\r\n}\r\n\r\n/**\r\n * 💡 Helper Functions\r\n */\r\nfunction getElements ({ id, containerDataRef, triggerDataRef }) {\r\n  return {\r\n    container: document.querySelector(`[${containerDataRef}=${id}]`),\r\n    triggers: [...document.querySelectorAll(`[${triggerDataRef}=${id}]`)]\r\n  }\r\n}\r\n","import RisksService from './api/api.risks'\nimport Toggler from '../../components/toggler'\nimport {\n  getActionsStats,\n  getActionsDetails,\n  getShowMoreButton\n} from './risks-card'\n\nconst RisksActions = function () {\n  const $refs = {\n    codFlowExecute: document.querySelector('#inpCodFlowExecute')\n  }\n\n  const state = {\n    risks: null,\n    emitter: null,\n    codFlowExecute: $refs.codFlowExecute.value\n  }\n\n  return {\n    mount,\n    appendActions\n  }\n\n  /**\n   * 🔑 Public Methods\n   */\n  function mount ({ emitter }) {\n    state.emitter = emitter\n\n    getRisksActions()\n  }\n\n  function appendActions (riskDescription) {\n    const { risk, index } = findRiskOnState(riskDescription)\n\n    if (risk) {\n      appendActionsOnRisk(risk, index)\n    }\n  }\n\n  /**\n   * 🔒 Private Methods\n   */\n  function getRisksActions () {\n    addLoadingState()\n\n    RisksService.getActions({\n      codFlowExecute: state.codFlowExecute\n    })\n      .then(risks => {\n        state.risks = risks\n        parseRisksActions(risks)\n      })\n      .finally(removeLoadingState)\n  }\n\n  function getRisksCardCtrls () {\n    return document\n      .querySelector('#risk-list')\n      .querySelectorAll('.card-controls')\n  }\n\n  function addLoadingState () {\n    getRisksCardCtrls()\n      .forEach(cardCtrl => {\n        cardCtrl.classList.add('-loading')\n      })\n  }\n\n  function removeLoadingState () {\n    getRisksCardCtrls()\n      .forEach(cardCtrl => {\n        cardCtrl.classList.remove('-loading')\n      })\n  }\n\n  function findRiskOnState (riskDescription) {\n    const risks = Object.values(state.risks)\n    const index = risks.findIndex(({ description }) =>\n      description === riskDescription.replace(/[+]/g, ' ')\n    )\n\n    if (index === null) {\n      return {}\n    }\n\n    return {\n      index,\n      risk: risks[index]\n    }\n  }\n\n  function parseRisksActions (risks) {\n    Object.values(risks)\n      .forEach(appendActionsOnRisk)\n  }\n\n  function appendActionsOnRisk (risk, index) {\n    const riskId = `risk-${index + 1}`\n    const card = getRiskCard(risk.description)\n    const actions = Object.values(risk.actions)\n      .reduce(groupActionsByStatus, {\n        done: [],\n        cancelled: [],\n        pending: [],\n        total: 0\n      })\n\n    const statsMarkup = getActionsStats(actions)\n    const btnMarkup = getShowMoreButton(riskId)\n    const statsCol = card.querySelector('[data-risk-stats]')\n    const ctrlsCol = card.querySelector('[data-risk-ctrls]')\n\n    statsCol\n      .insertAdjacentHTML('beforeend', statsMarkup)\n\n    ctrlsCol\n      .insertAdjacentHTML('afterbegin', btnMarkup)\n\n    const detailsMarkup = getActionsDetails(actions, riskId)\n\n    card\n      .insertAdjacentHTML('beforeend', detailsMarkup)\n\n    Toggler({ id: riskId })\n  }\n\n  function getRiskCard (description) {\n    return [...document.querySelectorAll('[data-risk-description]')]\n      // Ao salvar no banco o Orquestra remove o caracter `+`\n      .find(desc => {\n        const cardDescription = desc.textContent\n          .replace(/[+]/g, ' ')\n          .replace(/(\\r\\n|\\n|\\r)/gm, '')\n\n        const apiDescription = description\n          .replace(/[+]/g, ' ')\n          .replace(/(\\r\\n|\\n|\\r)/gm, '')\n\n        return cardDescription === apiDescription\n      })\n      .closest('.card')\n  }\n\n  function groupActionsByStatus (actions, action) {\n    if (action.acaoStatus === 'Concluída') {\n      actions.done.push(action)\n    } else if (action.acaoStatus === 'Cancelada') {\n      actions.cancelled.push(action)\n    } else {\n      actions.pending.push(action)\n    }\n\n    actions.total += 1\n\n    return actions\n  }\n}\n\nexport default RisksActions()\n","import resolveReference from '../helpers/component-reference'\r\n\r\nconst defaults = {\r\n  viewRef: '.slider-view',\r\n  activeClass: '-active',\r\n  noTransitionClass: '-unanimated'\r\n}\r\n\r\nexport default function Slider (reference, params) {\r\n  params = {\r\n    ...defaults,\r\n    ...params,\r\n    name: 'Slider'\r\n  }\r\n\r\n  const elements = resolveReference(reference, params.name)\r\n\r\n  if (elements instanceof HTMLElement) {\r\n    return createInstance(elements, params)\r\n  }\r\n\r\n  return elements\r\n    .map(element => createInstance(element, params))\r\n    .filter(element => element !== undefined)\r\n}\r\n\r\nfunction createInstance (slider, params) {\r\n  const views = slider.querySelectorAll(params.viewRef)\r\n\r\n  const state = {\r\n    openedView: null\r\n  }\r\n\r\n  const instance = {\r\n    slider,\r\n    views,\r\n    open,\r\n    disableTransition,\r\n    enableTransition\r\n  }\r\n\r\n  mount()\r\n\r\n  instance.slider._slider = instance\r\n\r\n  return instance\r\n\r\n  /**\r\n   * 🔒 Private Methods\r\n   */\r\n  function mount () {\r\n    instance.views.forEach(setViewPosition)\r\n  }\r\n\r\n  function setViewPosition (view, index) {\r\n    if (index === 0) {\r\n      view.style.left = '100%'\r\n    } else {\r\n      view.style.left = `-${(index - 1) * 100}%`\r\n    }\r\n  }\r\n\r\n  function resetActiveViews () {\r\n    instance.views.forEach(view => {\r\n      view.classList.remove(params.activeClass)\r\n      view.style.zIndex = 0\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 🔑 Public Methods\r\n   */\r\n  function open (viewName) {\r\n    const view = instance.slider.querySelector(`[data-slider-view=${viewName}]`)\r\n\r\n    if (!view) {\r\n      return\r\n    }\r\n\r\n    resetActiveViews()\r\n\r\n    view.classList.add(params.activeClass)\r\n    view.style.zIndex = 1\r\n    instance.openesdView = view\r\n  }\r\n\r\n  function disableTransition () {\r\n    instance.slider\r\n      .classList\r\n      .add(params.noTransitionClass)\r\n  }\r\n\r\n  function enableTransition () {\r\n    instance.slider\r\n      .classList\r\n      .remove(params.noTransitionClass)\r\n  }\r\n}\r\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","function mount (group, context) {\r\n  const element = context.querySelector(group.element)\r\n  const errorMessage = group.errorMessage\r\n\r\n  if (!element) {\r\n    return console.error(`[Form Validation] element not found for selector: ${group.element}`)\r\n  }\r\n\r\n  setTriggers(element, errorMessage)\r\n}\r\n\r\nfunction setTriggers (element, errorMessage) {\r\n  // Utilizado jQuery para corrigir o não disparo de\r\n  // eventos `change` em campos do tipo `data` do Orquestra\r\n  // que fazem uso do componente Bootstrap Datepicker.\r\n  $(element).on('change', function (e) {\r\n    handleChange.call(this, e, errorMessage)\r\n  })\r\n}\r\n\r\nfunction handleChange (e, errorMessage) {\r\n  validateField(this, errorMessage)\r\n}\r\n\r\nfunction validateField (field, errorMessage, silent) {\r\n  if (field.disabled) {\r\n    if (!silent) removeError(field)\r\n    return false\r\n  }\r\n  if (field.value === '') {\r\n    if (!silent) addError(field, errorMessage)\r\n    return true\r\n  } else {\r\n    if (!silent) removeError(field)\r\n    return false\r\n  }\r\n}\r\n\r\nfunction validateForm (groups, silent, context) {\r\n  let hasErrors = false\r\n\r\n  const result = groups.map(group => {\r\n    const element = context.querySelector(group.element)\r\n    const errorMessage = group.errorMessage\r\n    const validation = {\r\n      result: validateField(element, errorMessage, silent),\r\n      error: null\r\n    }\r\n\r\n    if (!validation.result) {\r\n      return validation\r\n    }\r\n\r\n    hasErrors = true\r\n    validation.error = errorMessage\r\n\r\n    return validation\r\n  })\r\n\r\n  const errors = result.filter(({ error }) => error !== null)\r\n\r\n  return {\r\n    hasErrors,\r\n    errors\r\n  }\r\n}\r\n\r\nconst getFormHelpElement = message =>\r\n  `<p class=\"form-help\">${message}</p>`\r\n\r\n/**\r\n * Public API\r\n */\r\nexport class FormValidation {\r\n  constructor (config, context = document) {\r\n    this.groups = config\r\n    this.context = context\r\n\r\n    if (!Array.isArray(config)) {\r\n      return console.error('[Form Validation] config parameter must by a array with a element selector, error message and callback (optional)')\r\n    }\r\n\r\n    this.groups.forEach(group => mount(group, context))\r\n  }\r\n\r\n  validate (silent = false) {\r\n    return validateForm(this.groups, silent, this.context)\r\n  }\r\n}\r\n\r\nexport function addError (element, errorMessage) {\r\n  const formGroup = element.closest('.form-group')\r\n\r\n  if (!formGroup) {\r\n    return console.error('[Form Validation] the element must be inside a .form-group container')\r\n  }\r\n\r\n  const formHelp = formGroup.querySelector('.form-help')\r\n\r\n  formGroup.classList.add('-error')\r\n\r\n  if (!formHelp) {\r\n    const formHelp = getFormHelpElement(errorMessage)\r\n    formGroup.insertAdjacentHTML('beforeend', formHelp)\r\n  } else {\r\n    formHelp.textContent = errorMessage\r\n  }\r\n}\r\n\r\nexport function removeError (element) {\r\n  const formGroup = element.closest('.form-group')\r\n  const formHelp = formGroup.querySelector('.form-help')\r\n\r\n  if (!formGroup) {\r\n    return console.error('[Form Validation] the element must be inside a .form-group container')\r\n  }\r\n\r\n  if (formHelp) {\r\n    formHelp.remove()\r\n  }\r\n\r\n  formGroup.classList.remove('-error')\r\n}\r\n","import RisksApi from './api/api.risks'\nimport { FormValidation } from '../../components/form-validation'\nimport Form from '../../components/form'\n\nconst SearchForm = new FormValidation([\n  {\n    element: '[xname=inptipoPlano]',\n    errorMessage: 'Informe o tipo'\n  }, {\n    element: '[xname=inpunidade]',\n    errorMessage: 'Informe a unidade'\n  }, {\n    element: '[xname=inpgerencia]',\n    errorMessage: 'Informe a gerência'\n  }, {\n    element: '[xname=inpperiodoInicio]',\n    errorMessage: 'Informe o início'\n  }\n])\n\nconst RisksForm = function () {\n  const $refs = {\n    trigger: document.querySelector('#btn-risks-search'),\n    pane: document.querySelector('#risk-start-message'),\n    year: document.querySelector('[xname=inpperiodoInicio]'),\n    planType: document.querySelector('[xname=inptipoPlano]'),\n    unit: document.querySelector('[xname=inpunidade]'),\n    management: document.querySelector('[xname=inpgerencia]'),\n    department: document.querySelector('[xname=inpdepartamento]'),\n    assigneeArea: document.querySelector('[xname=inpareaResponsavel]'),\n    areaName: document.querySelector('[xname=inptextoAreaResponsavel]')\n  }\n\n  const state = {\n    emitter: null\n  }\n\n  return {\n    mount\n  }\n\n  /**\n   * 🔑 Public Methods\n   */\n  function mount ({ emitter }) {\n    state.emitter = emitter\n\n    $refs.trigger\n      .addEventListener('click', handleStart)\n\n    handlePlanType()\n    mountDatePicker()\n  }\n\n  /**\n   * 🔒 Private Methods\n   */\n  function mountDatePicker () {\n    $($refs.year)\n      .datepicker({\n        language: 'pt-BR',\n        startView: 'months',\n        minViewMode: 'months',\n        format: 'M/yyyy'\n      })\n    $refs.year.autocomplete = 'off'\n  }\n\n  function handlePlanType () {\n    const fields = [\n      $refs.department,\n      $refs.management,\n      $refs.unit\n    ]\n\n    const params = {\n      type: $refs.planType,\n      management: $refs.management,\n      unit: $refs.unit\n    }\n\n    $refs.planType.addEventListener(\n      'change',\n      () => onPlanTypeChange($refs.planType.value)\n    )\n\n    fields.forEach(field => {\n      field.addEventListener(\n        'change',\n        () => setAssignee(params)\n      )\n    })\n\n    onPlanTypeChange($refs.planType.value)\n  }\n\n  function onPlanTypeChange (type) {\n    const changeEvent = new Event('change')\n    const fields = [\n      $refs.department,\n      $refs.unit,\n      $refs.management\n    ]\n\n    disableFields(fields)\n\n    if (type === 'Departamento Regional') {\n      $refs.department.disabled = false\n      $refs.department.value = 'Sesi Bahia'\n      $refs.department.dispatchEvent(changeEvent)\n\n      Form.showField('departamento')\n      Form.hideField('gerencia')\n      Form.hideField('unidade')\n    } else if (type === 'Gerência de Negócio/Suporte') {\n      $refs.management.disabled = false\n\n      Form.showField('gerencia')\n      Form.hideField('departamento')\n      Form.hideField('unidade')\n    } else if (type === 'Gerência de Unidade') {\n      $refs.unit.disabled = false\n\n      Form.showField('unidade')\n      Form.hideField('departamento')\n      Form.hideField('gerencia')\n    } else {\n      Form.hideField('unidade')\n      Form.hideField('departamento')\n      Form.hideField('gerencia')\n    }\n  }\n\n  function setAssignee (props) {\n    const assignee = getAssigneeByPlanType({\n      type: props.type.value,\n      management: props.management.value,\n      unit: props.unit.value\n    })\n\n    if (!assignee) {\n      $refs.assigneeArea.value = ''\n      $refs.areaName.value = ''\n      return\n    }\n\n    $refs.assigneeArea.value = assignee.codarea\n    $refs.areaName.value = assignee.areaName\n  }\n\n  function handleStart (e) {\n    const { hasErrors } = validateForm()\n\n    e.preventDefault()\n\n    if (hasErrors) {\n      return hasErrors\n    }\n\n    searchData()\n  }\n\n  function validateForm () {\n    return SearchForm.validate()\n  }\n\n  function searchData () {\n    const unitId = $refs.unit.value\n    const year = $refs.unit.value\n\n    addLoadingState()\n\n    RisksApi\n      .getRisks({ unitId, year })\n      .then(handleSearchDone)\n      .catch(handleSearchError)\n  }\n\n  function handleSearchDone (data) {\n    state.emitter.emit('search-done', data)\n    removeLoadingState()\n  }\n\n  function handleSearchError (err) {\n    console.error(err)\n    removeLoadingState()\n  }\n\n  function addLoadingState () {\n    [$refs.trigger, $refs.pane]\n      .forEach(el =>\n        el.classList.add('-loading')\n      )\n  }\n\n  function removeLoadingState () {\n    [$refs.trigger, $refs.pane]\n      .forEach(el =>\n        el.classList.remove('-loading')\n      )\n  }\n}\n\nexport default RisksForm()\n\n/**\n * 💡 Helpers\n */\nfunction disableFields (fields) {\n  fields.forEach(field => {\n    field.disabled = true\n  })\n}\n\nfunction getAssigneeByPlanType ({ type, management, unit }) {\n  if (type === 'Departamento Regional') {\n    return {\n      codarea: process.env.ORQUESTRA_SUPER_CODAREA,\n      areaName: getAreaTextFromField('departamento')\n    }\n  }\n\n  if (type === 'Gerência de Negócio/Suporte') {\n    return {\n      codarea: management,\n      areaName: getAreaTextFromField('gerencia')\n    }\n  }\n\n  if (type === 'Gerência de Unidade') {\n    return {\n      codarea: unit,\n      areaName: getAreaTextFromField('unidade')\n    }\n  }\n\n  return null\n}\n\nfunction getAreaTextFromField (fieldId) {\n  const field = document.querySelector(`[xname=inp${fieldId}]`)\n  const fieldType = field.tagName.toLocaleLowerCase()\n\n  if (fieldType === 'input') {\n    return field.value\n  }\n\n  if (fieldType === 'select') {\n    return field.querySelector('option:checked').textContent\n  }\n\n  return null\n}\n","import resolveReference from '../helpers/component-reference'\r\n\r\nconst defaults = {\r\n  drawerOpenClass: '-open',\r\n  titleRef: '[data-drawer-title]',\r\n  openRef: '[data-drawer-open]',\r\n  closeRef: '[data-drawer-close]',\r\n  confirmRef: '[data-drawer-confirm]',\r\n  removeRef: '[data-drawer-remove]',\r\n  enableRemove: false,\r\n  closeOnClickOutside: false,\r\n  confirmText: 'Confirmar'\r\n}\r\n\r\nexport default function Drawer (reference, params) {\r\n  params = {\r\n    ...defaults,\r\n    ...params,\r\n    name: 'Drawer'\r\n  }\r\n\r\n  const elements = resolveReference(reference, params.name)\r\n\r\n  if (elements instanceof HTMLElement) {\r\n    return createInstance(elements, params)\r\n  }\r\n\r\n  return elements\r\n    .map(element => createInstance(element, params))\r\n    .filter(element => element !== undefined)\r\n}\r\n\r\nfunction createInstance (drawer, params) {\r\n  const changeEvent = new Event('change')\r\n  const btnOpen = document.querySelectorAll(params.openRef)\r\n  const btnClose = drawer.querySelectorAll(params.closeRef)\r\n  const btnConfirm = drawer.querySelector(params.confirmRef)\r\n  const btnRemove = drawer.querySelector(params.removeRef)\r\n  const drawerTitle = drawer.querySelector(params.titleRef)\r\n  const pageBody = document.body\r\n\r\n  const state = {\r\n    isOpen: false,\r\n    ref: null\r\n  }\r\n\r\n  const defaultProps = {\r\n    title: params.title,\r\n    confirmText: params.confirmText,\r\n    enableRemove: params.enableRemove,\r\n    onConfirm: params.onConfirm,\r\n    onRemove: params.onRemove\r\n  }\r\n\r\n  const instance = {\r\n    drawer,\r\n    open,\r\n    close,\r\n    populate\r\n  }\r\n\r\n  addTriggers()\r\n  mount()\r\n\r\n  instance.drawer._drawer = instance\r\n\r\n  return instance\r\n\r\n  /**\r\n   * 🔒 Private Methods\r\n   */\r\n  function mount () {\r\n    setProps(defaultProps)\r\n  }\r\n\r\n  function setProps (props) {\r\n    if (props.enableRemove) {\r\n      btnRemove.style.display = 'initial'\r\n    } else {\r\n      btnRemove.style.display = 'none'\r\n    }\r\n\r\n    if (props.ref) {\r\n      state.ref = props.ref\r\n    }\r\n\r\n    if (props.onRemove) {\r\n      state.onRemove = props.onRemove\r\n    }\r\n\r\n    if (props.onConfirm) {\r\n      state.onConfirm = props.onConfirm\r\n    }\r\n\r\n    drawerTitle.textContent = props.title\r\n    btnConfirm.textContent = props.confirmText\r\n  }\r\n\r\n  function addTriggers () {\r\n    btnOpen.forEach(btn =>\r\n      btn.addEventListener('click', e => {\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n        open(defaultProps)\r\n      })\r\n    )\r\n\r\n    btnClose.forEach(btn =>\r\n      btn.addEventListener('click', e => {\r\n        e.preventDefault()\r\n        close()\r\n      })\r\n    )\r\n\r\n    btnConfirm.addEventListener('click', e => {\r\n      const data = getDrawerData()\r\n\r\n      e.preventDefault()\r\n\r\n      if (state.onConfirm) {\r\n        state.onConfirm(state.ref, data)\r\n        close()\r\n      }\r\n    })\r\n\r\n    btnRemove.addEventListener('click', e => {\r\n      e.preventDefault()\r\n\r\n      if (state.onRemove) {\r\n        state.onRemove(state.ref)\r\n        close()\r\n      }\r\n    })\r\n  }\r\n\r\n  function handleWindowOnOpen () {\r\n    pageBody.style.overflow = 'hidden'\r\n\r\n    if (params.closeOnClickOutside) {\r\n      pageBody.addEventListener('click', onClickOutside, false)\r\n    }\r\n  }\r\n\r\n  function handleWindowOnClose () {\r\n    pageBody.style.overflow = 'initial'\r\n\r\n    if (params.closeOnClickOutside) {\r\n      pageBody.removeEventListener('click', onClickOutside, false)\r\n    }\r\n  }\r\n\r\n  function onClickOutside (e) {\r\n    if (!instance.drawer.contains(e.target)) {\r\n      close()\r\n    }\r\n  }\r\n\r\n  function getDrawerData () {\r\n    return [\r\n      ...instance.drawer.querySelectorAll('[name]')\r\n    ]\r\n      .reduce((fields, field) => {\r\n        const id = field.getAttribute('name')\r\n        return {\r\n          ...fields,\r\n          [id]: field.value\r\n        }\r\n      }, {})\r\n  }\r\n\r\n  function clearForm () {\r\n    instance.drawer\r\n      .querySelectorAll('[name]')\r\n      .forEach(field => {\r\n        field.value = null\r\n        field.dispatchEvent(changeEvent)\r\n      })\r\n  }\r\n\r\n  /**\r\n   * 🔑 Public Methods\r\n   */\r\n  function open (props) {\r\n    instance.drawer.classList.add(params.drawerOpenClass)\r\n    state.open = true\r\n\r\n    if (props) {\r\n      setProps(props)\r\n    }\r\n\r\n    handleWindowOnOpen()\r\n  }\r\n\r\n  function close () {\r\n    instance.drawer.classList.remove(params.drawerOpenClass)\r\n    state.open = false\r\n\r\n    clearForm()\r\n    handleWindowOnClose()\r\n\r\n    // @todo reset scroll to top\r\n    // drawer-body\r\n  }\r\n\r\n  function populate (data) {\r\n    Object.entries(data)\r\n      .forEach(([id, value]) => {\r\n        const field = instance.drawer.querySelector(`[name=${id}]`)\r\n\r\n        if (field) {\r\n          field.value = value\r\n          field.dispatchEvent(changeEvent)\r\n        }\r\n      })\r\n  }\r\n}\r\n","export function removeOptionPrefix (option, splitSeparator) {\r\n  return option\r\n    .split(splitSeparator)[1]\r\n    .trim()\r\n}\r\n","import ComponentError from '../helpers/component-error'\r\nimport resolveReference from '../helpers/component-reference'\r\nimport { removeOptionPrefix } from '../helpers/component-helpers'\r\n\r\nconst defaults = {\r\n  groupClass: 'btn-radio-group',\r\n  btnClass: 'btn-radio',\r\n  activeClass: '-active',\r\n  hidePrefix: false,\r\n  splitSeparator: '.'\r\n}\r\n\r\nexport default function ButtonRadio (reference, params) {\r\n  params = {\r\n    ...defaults,\r\n    ...params,\r\n    name: 'ButtonRadio'\r\n  }\r\n\r\n  const elements = resolveReference(reference, params.name)\r\n\r\n  if (elements instanceof HTMLElement) {\r\n    const [element] = elements\r\n    return createInstance(element, params)\r\n  }\r\n\r\n  return elements\r\n    .map(element => createInstance(element, params))\r\n    .filter(element => element !== undefined)\r\n}\r\n\r\nfunction createInstance (element, params) {\r\n  const changeEvent = new Event('change')\r\n  const {\r\n    select,\r\n    textvalue\r\n  } = getOrquestraField(element, params)\r\n\r\n  if (textvalue && params.hidePrefix) {\r\n    removeTextPrefix(textvalue)\r\n  }\r\n\r\n  if (!select) {\r\n    return\r\n  }\r\n\r\n  const { buttons, buttonGroup } = createButtonGroup(select, params)\r\n\r\n  const state = {\r\n    value: '',\r\n    isEnable: true\r\n  }\r\n\r\n  const instance = {\r\n    state,\r\n    element,\r\n    select,\r\n    buttonGroup,\r\n    buttons: [...buttons],\r\n    reset,\r\n    set,\r\n    get\r\n  }\r\n\r\n  addListners(buttons, select)\r\n\r\n  if (select.value !== '') {\r\n    set(select.value, true)\r\n  }\r\n\r\n  element._buttonGroup = instance\r\n\r\n  return instance\r\n\r\n  /**\r\n   * 🔒 Private Methods\r\n   */\r\n  function addListners (buttons, select) {\r\n    buttons\r\n      .forEach(button => {\r\n        button.addEventListener('click', onClick)\r\n      })\r\n\r\n    select.addEventListener('change', onChange)\r\n  }\r\n\r\n  function onChange () {\r\n    const value = this.value\r\n\r\n    if (value === '') {\r\n      reset()\r\n    } else {\r\n      set(value, true)\r\n    }\r\n  }\r\n\r\n  function onClick (e, silent) {\r\n    const option = this.dataset.option\r\n\r\n    reset()\r\n\r\n    this.classList.add(params.activeClass)\r\n    instance.select.value = option\r\n    state.value = option\r\n\r\n    if (!silent) {\r\n      instance.select.dispatchEvent(changeEvent)\r\n    }\r\n  }\r\n\r\n  function removeTextPrefix (textvalue) {\r\n    const value = removeOptionPrefix(textvalue.textContent, params.splitSeparator)\r\n    textvalue.textContent = value\r\n  }\r\n\r\n  /**\r\n   * 🔑 Public Methods\r\n   * @todo Destroy / ShowOption / HideOption / Disable (readonly) / Enable / TextOnly\r\n   */\r\n  function reset () {\r\n    state.value = ''\r\n    instance.select.value = ''\r\n    instance.buttons\r\n      .forEach(button => {\r\n        button.classList.remove(params.activeClass)\r\n      })\r\n  }\r\n\r\n  function set (option, silent = false) {\r\n    const button = instance.buttons\r\n      .find(button => button.dataset.option === option)\r\n\r\n    if (!button) {\r\n      throw new ComponentError({\r\n        name: params.name,\r\n        message:\r\n        `Erro ao realizar set para novo valor.\\nNão foi encontrada nenhuma opção para o valor ${option}`,\r\n        type: 'option_not_found'\r\n      })\r\n    }\r\n\r\n    onClick.call(button, null, silent)\r\n  }\r\n\r\n  function get () {\r\n    return state.value\r\n  }\r\n}\r\n\r\n/**\r\n * 💡 Helper Functions\r\n */\r\n\r\nfunction getOrquestraField (element, params) {\r\n  const select = element.querySelector('select[xname]')\r\n  const textvalue = element.querySelector('div[xid]')\r\n  const inputHidden = element.querySelector('input[type=hidden][xname]')\r\n\r\n  if (!select && !textvalue && !inputHidden) {\r\n    throw new ComponentError({\r\n      name: params.name,\r\n      message:\r\n      'Erro ao criar a instância do componente.\\nNenhum campo do Orquestra encontrado para a referência informada',\r\n      type: 'instace_field_not_found'\r\n    })\r\n  }\r\n\r\n  return {\r\n    select,\r\n    textvalue\r\n  }\r\n}\r\n\r\nfunction createButtonGroup (select, params) {\r\n  const options = getOrquestraFieldOptions(select, params)\r\n  const btnGroupHtml = getButtonGroupMarkup(options, params)\r\n\r\n  select.insertAdjacentHTML('afterend', btnGroupHtml)\r\n  select.style.display = 'none'\r\n\r\n  const buttonGroup = select.nextSibling\r\n  const buttons = buttonGroup.querySelectorAll(`.${params.btnClass}`)\r\n\r\n  return {\r\n    buttonGroup,\r\n    buttons\r\n  }\r\n}\r\n\r\nfunction getOrquestraFieldOptions (select, params) {\r\n  return [...select.options]\r\n    .filter(option => option.value)\r\n    .map(option => {\r\n      const value = option.value\r\n      const label = params.hidePrefix\r\n        ? removeOptionPrefix(value, params.splitSeparator)\r\n        : value\r\n\r\n      return { value, label }\r\n    })\r\n}\r\n\r\nfunction getButtonGroupMarkup (options, { groupClass, btnClass }) {\r\n  const buttons = options\r\n    .map(option => getButtonMarkup(option, btnClass))\r\n\r\n  return `<div class=\"btn-group ${groupClass}\">${buttons.join('')}</div>`\r\n}\r\n\r\nfunction getButtonMarkup ({ value, label }, btnClass) {\r\n  return `<button type=\"button\" class=\"btn ${btnClass}\" data-option=\"${value}\">${label}</button>`\r\n}\r\n","import Drawer from '../../components/drawer'\r\nimport ButtonRadio from '../../components/button-radio'\r\n\r\nconst RisksDrawer = function () {\r\n  const $refs = {\r\n    drawer: document.querySelector('#risk-drawer'),\r\n    probability: document.querySelector('[name=riscoProbabilidade]'),\r\n    impact: document.querySelector('[name=riscoImpacto]'),\r\n    level: document.querySelector('[name=riscoNivel]'),\r\n    cells: document.querySelectorAll('#risk-drawer .matrix-cell-inner')\r\n  }\r\n\r\n  const state = {\r\n    emitter: null\r\n  }\r\n\r\n  return {\r\n    mount,\r\n    open,\r\n    disabledRemove\r\n  }\r\n\r\n  /**\r\n   * 🔑 Public Methods\r\n   */\r\n  function mount ({ emitter }) {\r\n    state.emitter = emitter\r\n\r\n    state.drawer = Drawer($refs.drawer, {\r\n      onConfirm,\r\n      title: 'Adicionar Item',\r\n      confirmText: 'Adicionar'\r\n    })\r\n\r\n    ButtonRadio('[data-btn-radio]')\r\n    validateFill()\r\n    addMatrixTriggers()\r\n\r\n    $refs.drawer\r\n      .querySelectorAll('[data-btn-hint]')\r\n      .forEach(addHintTriggers)\r\n  }\r\n\r\n  function open (options) {\r\n    const { data, ...props } = options\r\n\r\n    if (data) {\r\n      state.drawer.populate(data)\r\n    }\r\n\r\n    onMatrixChange()\r\n\r\n    state.drawer.open({\r\n      title: 'Editar Item',\r\n      confirmText: 'Salvar',\r\n      enableRemove: true,\r\n      ...props\r\n    })\r\n  }\r\n\r\n  function disabledRemove () {\r\n    $refs.drawer\r\n      .querySelectorAll('[data-drawer-remove]')\r\n      .forEach(btn => btn.remove())\r\n  }\r\n\r\n  /**\r\n   * 🔒 Private Methods\r\n   */\r\n  function onConfirm (row, data) {\r\n    state.emitter.emit('drawer-add', data)\r\n  }\r\n\r\n  function validateFill () {\r\n    $refs.btnConfirm = $refs.drawer\r\n      .querySelector('[data-drawer-confirm]')\r\n\r\n    $refs.fields = [\r\n      ...$refs.drawer.querySelectorAll('[name]')\r\n    ]\r\n\r\n    $refs.btnConfirm.disabled = true\r\n\r\n    $refs.fields\r\n      .forEach(field =>\r\n        field.addEventListener('change', onFormFilling)\r\n      )\r\n  }\r\n\r\n  function onFormFilling () {\r\n    const isFilled = isFormFilled()\r\n\r\n    if (isFilled) {\r\n      $refs.btnConfirm.disabled = false\r\n    } else {\r\n      $refs.btnConfirm.disabled = true\r\n    }\r\n  }\r\n\r\n  function isFormFilled () {\r\n    return !$refs.fields\r\n      .some(field => !field.value)\r\n  }\r\n\r\n  function addHintTriggers (fieldContainer) {\r\n    const buttons = fieldContainer.querySelectorAll('.btn-radio')\r\n    const field = fieldContainer.querySelector('select')\r\n    const hints = [\r\n      ...fieldContainer\r\n        .nextElementSibling\r\n        .querySelectorAll('[data-hint]')\r\n    ]\r\n\r\n    field.addEventListener('change', e => {\r\n      const option = e.target.value\r\n\r\n      hideAllHints(hints)\r\n\r\n      if (option) {\r\n        changeHintDisplay({\r\n          option,\r\n          hints,\r\n          display: 'initial'\r\n        })\r\n      }\r\n    })\r\n\r\n    buttons.forEach(btn => {\r\n      btn.addEventListener('mouseenter', e => {\r\n        if (!field.value) {\r\n          const option = e.target.dataset.option\r\n          changeHintDisplay({\r\n            option,\r\n            hints,\r\n            display: 'initial'\r\n          })\r\n        }\r\n      })\r\n      btn.addEventListener('mouseleave', e => {\r\n        if (!field.value) {\r\n          const option = e.target.dataset.option\r\n          changeHintDisplay({\r\n            option,\r\n            hints,\r\n            display: 'none'\r\n          })\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  function changeHintDisplay (params) {\r\n    const {\r\n      option,\r\n      hints,\r\n      display\r\n    } = params\r\n\r\n    const hint = findHint(hints, option)\r\n\r\n    if (hint) {\r\n      hint.style.display = display\r\n    }\r\n  }\r\n\r\n  function hideAllHints (hints) {\r\n    hints.forEach(hint => {\r\n      hint.style.display = 'none'\r\n    })\r\n  }\r\n\r\n  function findHint (hints, option) {\r\n    return hints\r\n      .find(hint => hint.dataset.hint === option)\r\n  }\r\n\r\n  function addMatrixTriggers () {\r\n    [\r\n      $refs.probability,\r\n      $refs.impact\r\n    ].forEach(field =>\r\n      field.addEventListener('change', onMatrixChange)\r\n    )\r\n  }\r\n\r\n  function onMatrixChange () {\r\n    const probability = getMatrixValueFromLabel(\r\n      $refs.probability.value\r\n    )\r\n    const impact = getMatrixValueFromLabel(\r\n      $refs.impact.value\r\n    )\r\n\r\n    clearMatrixState()\r\n\r\n    if (!probability || !impact) {\r\n      return\r\n    }\r\n\r\n    const level = probability * impact\r\n    const pos = probability + (impact - 1) * 3\r\n\r\n    $refs.level.value = level\r\n    $refs.cells[pos - 1].dataset.value = level\r\n  }\r\n\r\n  function clearMatrixState () {\r\n    $refs.cells.forEach(cell => {\r\n      cell.dataset.value = ''\r\n    })\r\n  }\r\n}\r\n\r\nexport default RisksDrawer()\r\n\r\n/**\r\n * 💡 Helper Functions\r\n */\r\n\r\nfunction getMatrixValueFromLabel (level) {\r\n  level = level.toLowerCase()\r\n\r\n  if (level === 'baixo' || level === 'baixa') {\r\n    return 1\r\n  }\r\n\r\n  if (level === 'médio' || level === 'média') {\r\n    return 2\r\n  }\r\n\r\n  if (level === 'alto' || level === 'alta') {\r\n    return 3\r\n  }\r\n\r\n  return null\r\n}\r\n","import RisksForm from './risks-form'\r\nimport RisksList from './risks-list'\r\nimport RisksDrawer from './risks-drawer'\r\nimport RisksActions from './risks-actions'\r\nimport Slider from '../../components/slider'\r\n\r\nconst RisksPlan = function () {\r\n  const $refs = {\r\n    slider: document.querySelector('#risk-slider')\r\n  }\r\n\r\n  const state = {\r\n    views: {\r\n      plan: 'risk-plan',\r\n      search: 'risk-search'\r\n    },\r\n    emitter: null\r\n  }\r\n\r\n  return {\r\n    init\r\n  }\r\n\r\n  /**\r\n   * 🔑 Public Methods\r\n   */\r\n  function init ({ alias, emitter }) {\r\n    const mountComponents = [\r\n      'pesquisa',\r\n      'validacao',\r\n      'monitoramento',\r\n      'reavaliacao'\r\n    ].includes(alias)\r\n\r\n    state.emitter = emitter\r\n    state.alias = alias\r\n    state.slider = Slider($refs.slider)\r\n\r\n    state.emitter.on('search-done', showListView)\r\n    state.emitter.on('search-return', showSearchView)\r\n    state.emitter.on('drawer-edit', showDrawer)\r\n    state.emitter.on('drawer-edit-save', appendActions)\r\n    state.emitter.on('drawer-add', RisksList.append)\r\n\r\n    if (mountComponents) {\r\n      mount()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔒 Private Methods\r\n   */\r\n  function mount () {\r\n    const { emitter } = state\r\n\r\n    state.slider.disableTransition()\r\n\r\n    if (state.alias === 'pesquisa') {\r\n      RisksForm.mount({ emitter })\r\n      RisksList.mount({ emitter })\r\n      RisksDrawer.mount({ emitter })\r\n\r\n      state.slider.open(state.views.search)\r\n\r\n      setTimeout(() =>\r\n        state.slider.enableTransition(), 100\r\n      )\r\n    }\r\n\r\n    if (state.alias === 'validacao') {\r\n      RisksList.mount({ emitter })\r\n      RisksDrawer.mount({ emitter })\r\n\r\n      state.slider.open(state.views.plan)\r\n    }\r\n\r\n    if (state.alias === 'monitoramento') {\r\n      const props = {\r\n        editable: false,\r\n        removeable: false,\r\n        static: true\r\n      }\r\n\r\n      RisksList.mount({ emitter, props })\r\n      RisksActions.mount({ emitter })\r\n\r\n      state.slider.open(state.views.plan)\r\n    }\r\n\r\n    if (state.alias === 'reavaliacao') {\r\n      const props = {\r\n        removeable: false,\r\n        static: true\r\n      }\r\n\r\n      RisksList.mount({ emitter, props })\r\n      RisksDrawer.mount({ emitter })\r\n      RisksActions.mount({ emitter })\r\n\r\n      RisksDrawer.disabledRemove()\r\n      state.slider.open(state.views.plan)\r\n    }\r\n  }\r\n\r\n  function showListView (risks) {\r\n    state.slider.open(state.views.plan)\r\n    RisksList.populate(risks)\r\n  }\r\n\r\n  function showSearchView () {\r\n    state.slider.open(state.views.search)\r\n    RisksList.clear()\r\n  }\r\n\r\n  function showDrawer (options) {\r\n    RisksDrawer.open(options)\r\n  }\r\n\r\n  function appendActions (risk) {\r\n    if (state.alias === 'reavaliacao') {\r\n      RisksActions.appendActions(risk.riscoDescricao)\r\n    }\r\n  }\r\n}\r\n\r\nexport default RisksPlan()\r\n","/**\r\n * Dependencies\r\n */\r\nimport mitt from 'mitt'\r\n\r\n/**\r\n * Components\r\n */\r\nimport Form from './components/form'\r\n\r\n/**\r\n * Modules\r\n */\r\nimport RisksPlan from './modules/risks'\r\n\r\nconst emitter = mitt()\r\nconst alias = document.querySelector('#inpDsFlowElementAlias').value\r\n\r\nForm.conditionals()\r\n\r\n/**\r\n * Initialize Modules\r\n */\r\nRisksPlan.init({ alias, emitter })\r\n"],"sourceRoot":""}