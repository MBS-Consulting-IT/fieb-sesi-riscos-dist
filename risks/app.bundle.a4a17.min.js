!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,e);var t=i(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.name,i=r.message,c=r.type;r.errors;return o(this,n),(e=t.call(this)).name=a||"ComponentError",e.message=i,e.type=c,e}return n}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));t.a=u},function(e,t,n){"use strict";var r=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=document.getElementById("inpCodFlow"),s=document.getElementById("inpCodFlowExecute"),f=document.getElementById("inpCodFlowExecuteMaster"),d=document.getElementById("inpCodFlowExecuteTask"),m=document.getElementById("inpCodFlowExecuteTaskPosition"),p=document.getElementById("inpCodFlowExecuteC"),v=document.getElementById("inpAssociateToCodFlow"),b=document.getElementById("inpAssociateToCodFlowExecute"),y=document.getElementById("inpCodFlowElement"),g=document.getElementById("inpDsFlowElementAlias"),h=document.getElementById("inpStSimulation"),w=document.getElementById("inpToken"),O={codFlow:A(u),codFlowExecute:A(s),codFlowExecuteMaster:A(f),codFlowExecuteTask:A(d),codFlowExecuteTaskPosition:A(m),codFlowExecuteC:A(p),associateToCodFlow:A(v),associateToCodFlowExecute:A(b),codTask:A(y),taskAlias:A(g),isSimulation:A(h),userToken:A(w)},j="Form",S=".form-group",E="u-hidden";function A(e){return e?e.value:null}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{alwaysArray:!1},n=document.querySelectorAll('[xname="inp'.concat(e,'"]'));return n.length?t.alwaysArray||n.length>1?c(n):n[0]:null}function P(e){var t=new Event("change");x(e,{alwaysArray:!0}).forEach((function(e){var n=e.type;["text","textarea","select-one","hidden"].includes(n)?e.value="":e.checked=!1,e.dispatchEvent(t)}))}function k(e){var t=x(e,{alwaysArray:!0});if(!t)return console.error("[Form] Unable to add required. Field reference ".concat(e," not found"));t.forEach((function(e){e.setAttribute("required","S"),e.removeAttribute("data-was-required")}))}function q(e){var t=x(e,{alwaysArray:!0});if(!t)return console.error("[Form] Unable to remove required. Field reference ".concat(e," not found"));t.forEach((function(e){e.setAttribute("required","N"),e.setAttribute("data-was-required",!0)}))}function C(e){var t=x(e,{alwaysArray:!0}),n=t[0].type;if(["text","textarea","select-one","hidden"].includes(n))return t[0].value;if("radio"===n){var r=t.find((function(e){return e.checked}));return r?r.value:null}if("checkbox"===n){var o=t.filter((function(e){return e.checked})).map((function(e){return e.value}));return o.length?o:null}return null}t.a=a(a({},O),{},{on:function(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new r.a({name:j,message:"Erro ao criar o evento 'on', \n".concat(e," não é um parâmetro válido. Você deve utilizar como target somente strings ou arrays de strings."),type:"invalid_target_for_on_event"});if("function"!=typeof t)throw new r.a({name:j,message:"Erro ao criar o evento 'on', \n".concat(t," não é um parâmetro válido. Você deve utilizar como callback somente funções."),type:"invalid_callback_for_on_event"});("string"==typeof e?[e]:e).includes(O.taskAlias)&&t(O.taskAlias)},conditionals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"u-hidden";e.querySelectorAll("[data-if]").forEach((function(e){e.dataset.if.replace(/[\s[\]]/g,"").split(",").includes(O.taskAlias)?e.classList.remove(t):e.classList.add(t)}))},getField:x,getFieldValue:C,clearField:P,addRequired:k,removeRequired:q,showField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=x(e,{alwaysArray:!0}),r=n[0].closest(t),o=n.filter((function(e){return e.getAttribute("data-was-required")})).length>0;r.classList.remove(E),o&&k(e)},hideField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=x(e,{alwaysArray:!0}),r=n[0].closest(t),o=n.filter((function(e){return"S"===e.getAttribute("required")})).length>0;r.classList.add(E),P(e),o&&q(e)},handler:function(e,t){var n=e.target,r=e.events,o=x(n,{alwaysArray:!0}),a="string"==typeof r?[r]:r;if(!t)return console.error("[Form] Unable to attach handler. You must inform a callback param");function i(){var e=C(n);t(e)}o.forEach((function(e){a.forEach((function(t){e.addEventListener(t,i)}))})),i()}})},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t,n,r,o=function(e){if("risco"===(e=e.toLowerCase()))return{badge:'\n<div class="icon-badge -red -sm">\n  <i class="fas fa-fire"></i>\n</div>',modifier:"-red"};if("oportunidade"===e)return{badge:'\n<div class="icon-badge -green -sm">\n  <i class="fas fa-seedling"></i>\n</div>',modifier:"-green"};return null}((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({editable:!0,removeable:!0},e)).riscoTipo),a=o.badge,l=o.modifier;return'\n<div class="card">\n  <div class="card-ribbon -sm '.concat(l,'"></div>\n  <div class="card-row">\n    <div class="columns -auto">\n      <div class="column">\n        ').concat(a,'\n      </div>\n      <div class="column">\n        <label class="form-label">').concat(e.riscoTipo,"</label>\n        <p data-risk-description>").concat(e.riscoDescricao,'</p>\n      </div>\n    </div>\n  </div>\n  <div class="card-row">\n    <div class="columns">\n      <div class="column">\n        <label\n          class="form-label -inline"\n          data-help="(').concat(e.riscoOrigem,')"\n        >Origem</label>\n        <p>').concat(e.riscoDetalhesOrigem,'</p>\n      </div>\n      <div class="column">\n        <label class="form-label">Consequência</label>\n        <p>').concat(e.riscoConsequencia,'</p>\n      </div>\n    </div>\n  </div>\n  <div class="card-row">\n    <div class="columns -auto">\n      <div class="column">\n        <span class="form-help">Probabilidade</span>\n        ').concat(m(e.riscoProbabilidade),'\n      </div>\n      <div class="column">\n        <span class="form-help">Impacto</span>\n        ').concat(m(e.riscoImpacto),'\n      </div>\n      <div class="column -grow">\n        <span class="form-help">Nível</span><br>\n        <span class="tag -blue">').concat(e.riscoNivel,'</span>\n      </div>\n      <div class="column -gapless">\n        <div class="icon-badge -sm -boxed">\n          <i class="fas fa-').concat(function(e){if("Explorar"===e)return"mountain";if("Mitigar"===e)return"umbrella";if("Monitorar"===e)return"heartbeat";if("Transferir"===e)return"share";if("Aceitar"===e)return"check-double";if("Evitar"===e)return"exclamation-triangle";return null}(e.riscoTratamento),'"></i>\n        </div>\n      </div>\n      <div class="column">\n        <span class="form-help">Tratamento</span>\n        <label class="form-label">').concat(e.riscoTratamento,"</label>\n      </div>\n    </div>\n  </div>\n  ").concat((n=(t=e).removeable,r=t.editable,'\n<div class="card-controls">\n  <div class="columns -auto">\n    <div class="column -grow" data-risk-stats>\n      '.concat(n?'\n<button class="btn btn-link -red" data-vtable-remove>\n  <i class="fas fa-trash btn-icon"></i>\n  <span>Excluir</span>\n</button>\n  ':"",'\n    </div>\n    <div class="column" data-risk-ctrls>\n      ').concat(r?'\n<button class="btn btn-link" data-vtable-edit>\n  <i class="fas fa-edit btn-icon"></i>\n  <span>Editar</span>\n</button>\n  ':"","\n    </div>\n  </div>\n</div>\n  ")),"\n</div>\n")}function u(e){var t={done:(100*e.done.length/e.total).toFixed(3),cancelled:(100*e.cancelled.length/e.total).toFixed(3)};return'\n<div class="barchart">\n  <div class="barchart-partial -blue" style="flex-basis: '.concat(t.done,'%;"></div>\n  <div class="barchart-partial -grey" style="flex-basis: ').concat(t.cancelled,'%;"></div>\n</div>\n<div class="barchart-legend">\n  <span class="barchart-legend-item">\n    <i class="barchart-legend-icon -blue fas fa-check"></i>').concat(e.done.length,'\n  </span>\n  <span class="barchart-legend-item">\n    <i class="barchart-legend-icon -grey fas fa-times"></i>').concat(e.cancelled.length,'\n  </span>\n  <span class="barchart-legend-item">\n    <i class="barchart-legend-icon fas fa-adjust"></i>').concat(e.pending.length,'\n  </span>\n  <span class="barchart-legend-item u-text-deemphasize">(Total ').concat(e.total,")</span>\n</div>\n")}function s(e,t){e.total;var n=a(e,["total"]);return'\n<div class="card-row -expandable" data-toggler="'.concat(t,'">\n  ').concat(Object.entries(n).map(f).join(""),"\n</div>\n")}function f(e,t){var n=r(e,2),o=n[0],a=n[1],i=function(e){if("done"===e)return{name:"Concluídas",variant:"-blue"};if("cancelled"===e)return{name:"Canceladas",variant:"-grey"};if("pending"===e)return{name:"Pendentes",variant:""};return null}(o),c=i.name,l=i.variant;return a.length?'\n<div class="columns risk-actions-list">\n  <div class="column -col-1-3">\n    <span class="bullet '.concat(l,'"><strong>').concat(c,'</strong></span>\n  </div>\n  <div class="column -col-2-3">\n    <ul class="stack-list -minimal">').concat(a.map(d).join(""),"</ul>\n  </div>\n</div>\n"):""}function d(e){return'\n<li class="stack risk-action-item">\n  <div class="columns -auto">\n    <div class="column -grow">\n      <h4 class="stack-title">'.concat(e.acaoTitulo,'</h4>\n    </div>\n    <div class="column">\n      <i class="stack-label-icon fas fa-user"></i>\n      <span class="stack-label">').concat(e.acaoResponsavel,'</span>\n    </div>\n    <div class="column">\n      <i class="stack-label-icon fas fa-calendar"></i>\n      <span class="stack-label">').concat(e.acaoPrazo,"</span>\n    </div>\n  </div>\n  <p>\n    ").concat(e.acaoDescricao,"\n  </p>\n</li>\n")}n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return p}));function m(e){var t=null,n=e;return"baixo"!==(e=e.toLowerCase())&&"baixa"!==e||(t='<i class="fas fa-long-arrow-alt-down u-color-blue-300"></i>'),"médio"!==e&&"média"!==e||(t='<i class="fas fa-minus u-color-grey-500"></i>'),"alto"!==e&&"alta"!==e||(t='<i class="fas fa-long-arrow-alt-up u-color-blue-700"></i>'),'\n  <label class="form-label">\n    '.concat(t," ").concat(n,"\n  </label>\n  ")}function p(e){return'\n<button class="btn btn-link" data-toggler-trigger="'.concat(e,'">\n  <span>Ações</span>\n  <i class="fas fa-angle-up btn-icon"></i>\n</button>\n  ')}},function(e,t,n){"use strict";var r=n(0);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={btnRemoveRef:"[data-vtable-remove]",btnEditRef:"[data-vtable-edit]"};function d(e){var t=function(e){var t=e.table,n=e.name,o=t.tagName.toLowerCase(),a="S"===t.getAttribute("mult"),i=t.querySelector("#BtnInsertNewRow");if("table"!==o)throw new r.a({name:n,message:"Erro ao iniciar componente.\nO parâmetro table deve ser uma tabela",type:"table_not_found"});if(!a)throw new r.a({name:n,message:"Erro ao iniciar componente.\nO parâmetro table deve ser uma tabela multivalorada",type:"multivalue_table_not_found"});return{table:t,btnInsert:i}}(e=u(u(u({},f),e),{},{rowRef:"data-vtable",name:"VirtualTable"})),n=t.table,i=t.btnInsert,c={rows:[],props:e.props},l={table:n,btnInsert:i,vtable:e.vtable,mount:function(){l.vtable.innerHTML=null,c.rows=a(l.table.querySelectorAll("tr:not(.header)")).filter(v),S(),c.rows.map(d).forEach(w)},append:function(e){w(e),function(e){var t;c.rows.length?(InsertNewRow(l.btnInsert,!0),t=l.table.querySelector("tr:last-child")):t=y(0);Object.entries(e).forEach((function(e){var n=o(e,2),r=n[0],a=n[1],i=t.querySelector("[xname=inp".concat(r,"]"));i&&(i.value=a)})),c.rows.push(t)}(e),S()},remove:E,replace:function(t,n){var r=j(t);if(null===r)return;var a=b(r),i=y(r),l=e.template(u(u({},n),c.props));a.insertAdjacentHTML("afterend",l),a.remove();var s=b(r);s.setAttribute(e.rowRef,""),g(s),function(e,t){Object.entries(t).forEach((function(t){var n=o(t,2),r=n[0],a=n[1],i=e.querySelector("[xname=inp".concat(r,"]"));i&&(i.value=a)}))}(i,n)},clear:function(){c.rows=[],l.vtable.innerHTML=null,O(),S()}};return[].concat(a(l.table.querySelectorAll(".btn-delete-mv")),[l.btnInsert]).forEach((function(e){return e?e.removeAttribute("onclick"):""})),l.vtable._vtable=l,l;function d(e){return a(e.querySelectorAll("[xname]")).reduce((function(e,t){var n=t.getAttribute("xname").substring(3);return u(u({},e),{},s({},n,t.value))}),{})}function v(e,t){var n=d(e),r=Object.values(n).every((function(e){return!e}));return r&&t>0&&y(t).remove(),!r}function b(e){return l.vtable.children[e]}function y(e){return l.table.querySelector("tr:nth-child(".concat(e+2,")"))}function g(t){t.querySelectorAll(e.btnRemoveRef).forEach((function(e){e.addEventListener("click",(function(e){return h(e,t,E)}))})),t.querySelectorAll(e.btnEditRef).forEach((function(n){n.addEventListener("click",(function(n){return h(n,t,e.onEdit)}))}))}function h(e,t,n){var r=a(l.vtable.children).indexOf(t);e.preventDefault(),e.stopPropagation(),n(r,d(c.rows[r]),t)}function w(t){var n=e.template(u(u({},t),c.props));l.vtable.insertAdjacentHTML("beforeend",n);var r=l.vtable.lastElementChild;r.setAttribute(e.rowRef,""),g(r)}function O(){InsertNewRow(l.btnInsert,!0),l.table.querySelectorAll("tr:not(.header):not(:last-child").forEach((function(e){return e.remove()}))}function j(e){if(Number.isInteger(e))return e;var t=a(l.vtable.children).indexOf(e);return t>=0?t:null}function S(){e.empty&&(c.rows.length?p(e.empty):m(e.empty)),e.action&&(c.rows.length?m(e.action):p(e.action))}function E(e){var t=j(e);null!==t&&(b(t).remove(),1===c.rows.length?O():y(t).remove(),c.rows.splice(t,1),S())}}function m(e){e.classList.remove("u-hidden")}function p(e){e.classList.add("u-hidden")}var v=n(2);t.a=function(){var e={return:document.querySelector("#btn-risks-return"),table:document.querySelector("#risk-table"),vtable:document.querySelector("#risk-list"),binds:document.querySelectorAll("[data-text-bind]"),emptySearch:document.querySelector("#risks-search-empty"),emptyList:document.querySelector("#risks-list-empty"),action:document.querySelector("#risk-list-action")},t={emitter:null};return{mount:function(n){var a=n.emitter,c=n.props,l=void 0===c?{}:c;t.emitter=a,t.vTable=d({props:l,table:e.table,vtable:e.vtable,empty:e.emptyList,action:e.action,template:v.a,onEdit:i}),t.vTable.mount(),e.return.addEventListener("click",r),e.binds.forEach(o),l.static&&document.querySelectorAll("[data-drawer-open]").forEach((function(e){return e.remove()}))},populate:function(t){e.emptyList.classList.add("u-hidden"),t.length?t.forEach(n):e.emptySearch.classList.remove("u-hidden")},append:n,clear:function(){t.vTable.clear()}};function n(n){e.emptySearch.classList.add("u-hidden"),t.vTable.append(n)}function r(e){e.preventDefault(),t.emitter.emit("search-return")}function o(e){var t=e.dataset.textBind,n=document.querySelector("[xname=inp".concat(t,"]"));n&&(e.textContent=a(n),$(n).on("change",(function(t){e.textContent=a(t.target)})))}function a(e){var t=e.getAttribute("xname").substring(3),n=e.tagName.toLowerCase(),r=document.querySelector("[xid=div".concat(t,"]")),o=e.dataset.fieldformat?e.dataset.fieldformat.toLowerCase():null;return e.value&&""!==e.value?"hidden"===e.type&&"select"===o?r?r.textContent:"":"select"===n?e.querySelector('option[value="'.concat(e.value,'"]')).textContent:e.value:""}function i(e,n,r){t.emitter.emit("drawer-edit",{data:n,ref:r,onRemove:c,onConfirm:l})}function c(e){t.vTable.remove(e)}function l(e,n){t.vTable.replace(e,n),t.emitter.emit("drawer-edit-save",n)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if("string"==typeof e){var n;try{n=o(document.querySelectorAll(e))}catch(n){throw new r.a({name:t,message:"Erro ao inicializar a instância do componente.\n".concat(e," não é um seletor válido"),type:"reference_queryselector_validation"})}if(!n.length)throw new r.a({name:t,message:"Erro ao inicializar a instância do componente.\nNão foi encontrado nenhum elemento para o seletor ".concat(e),type:"reference_queryselector_empty"});return n}if(e instanceof HTMLElement)return e;if(e instanceof HTMLCollection)return o(e);if(Array.isArray(e)){if(!e.length)throw new r.a({name:t,message:"Erro ao inicializar a instância do componente.\nVocê não pode chamar o construtor com array vazio",type:"reference_array_empty"});return e.forEach((function(e){if(!(e instanceof HTMLElement))throw new r.a({name:t,message:"Erro ao inicializar a instância do componente\nVocê não pode chamar o construtor com arrays que possuam elementos diferentes de HTMLElement",type:"reference_array_validation"})})),e}throw new r.a({name:t,message:"Erro ao inicializar a instância do componente.\nVocê deve chamar o construtor com strings (seletores CSS), HTMLElement, HTMLElement[], HTMLCollection ou NodeList",type:"reference_invalid_type"})}},function(e,t,n){"use strict";t.a={getRisks:function(e){var t={inpunidade:e.unitId,inpano:e.year};return new URL('https://sisweb.fieb.org.br/FIEB/Orquestra/api/json/datasource/get/1.0"/riscos" # não implementado, atualizar após implementação').search=new URLSearchParams(t).toString(),new Promise((function(e){setTimeout((function(){return e([])}),600)}))},getActions:function(e){var t=e.codFlowExecute,n=new URL("https://sisweb.fieb.org.br/FIEB/Orquestra/api/json/datasource/get/1.0/0POMGDbP@kblzrbtsTh-iw67XcFGmGvTUZuEttpRboceVRKXvuykgnU@ToBhlnR6bJyIh@Tg50D2Mlg4ufSs5Q__"),o={inpcodFlowExecuteMaster:t};return n.search=new URLSearchParams(o).toString(),fetch(n).then((function(e){return e.json()})).then((function(e){return e.success.reduce(r,{})}))}};var r=function(e,t){var n=t.fields,r=t.txt;return e[n.riskId]||(e[n.riskId]={actions:{}},"riscoDescricao"!==n.id)?("riscoDescricao"===n.id||(e[n.riskId].actions[r]||(e[n.riskId].actions[r]={}),e[n.riskId].actions[r][n.id]=n.value),e):(e[n.riskId].description=n.value,e)}},function(e,t,n){"use strict";var r=n(5);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={activeClass:"-open",containerDataRef:"data-toggler",triggerDataRef:"data-toggler-trigger"};function s(e){e=c(c(c({},u),e),{},{name:"Toggler"});var t,n,r,a,i=(n=(t=e).id,r=t.containerDataRef,a=t.triggerDataRef,{container:document.querySelector("[".concat(r,"=").concat(n,"]")),triggers:o(document.querySelectorAll("[".concat(a,"=").concat(n,"]")))}),l={container:i.container,triggers:i.triggers,open:function(){d(l.container),l.triggers.forEach(d)},close:function(){m(l.container),l.triggers.forEach(m)},toggle:p};return l.triggers.forEach(s),l.container._toggler=l,l;function s(e){e.addEventListener("click",(function(e){e.preventDefault(),p()}))}function f(t){t.classList.toggle(e.activeClass)}function d(t){t.classList.add(e.activeClass)}function m(t){t.classList.remove(e.activeClass)}function p(){f(l.container),l.triggers.forEach(f)}}var f=n(2);function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(){var e={risks:null,emitter:null,codFlowExecute:{codFlowExecute:document.querySelector("#inpCodFlowExecute")}.codFlowExecute.value};return{mount:function(a){var i=a.emitter;e.emitter=i,t().forEach((function(e){e.classList.add("-loading")})),r.a.getActions({codFlowExecute:e.codFlowExecute}).then((function(t){e.risks=t,function(e){Object.values(e).forEach(o)}(t)})).finally(n)},appendActions:function(t){var n=function(t){var n=Object.values(e.risks),r=n.findIndex((function(e){return e.description===t.replace(/[+]/g," ")}));if(null===r)return{};return{index:r,risk:n[r]}}(t),r=n.risk,a=n.index;r&&o(r,a)}};function t(){return document.querySelector("#risk-list").querySelectorAll(".card-controls")}function n(){t().forEach((function(e){e.classList.remove("-loading")}))}function o(e,t){var n,r="risk-".concat(t+1),o=(n=e.description,d(document.querySelectorAll("[data-risk-description]")).find((function(e){return e.textContent.replace(/[+]/g," ").replace(/(\r\n|\n|\r)/gm,"")===n.replace(/[+]/g," ").replace(/(\r\n|\n|\r)/gm,"")})).closest(".card")),i=Object.values(e.actions).reduce(a,{done:[],cancelled:[],pending:[],total:0}),c=Object(f.c)(i),l=Object(f.d)(r),u=o.querySelector("[data-risk-stats]"),m=o.querySelector("[data-risk-ctrls]");u.insertAdjacentHTML("beforeend",c),m.insertAdjacentHTML("afterbegin",l);var p=Object(f.b)(i,r);o.insertAdjacentHTML("beforeend",p),s({id:r})}function a(e,t){return"Concluída"===t.acaoStatus?e.done.push(t):"Cancelada"===t.acaoStatus?e.cancelled.push(t):e.pending.push(t),e.total+=1,e}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={viewRef:".slider-view",activeClass:"-active",noTransitionClass:"-unanimated"};function l(e,t){t=a(a(a({},c),t),{},{name:"Slider"});var n=Object(r.a)(e,t.name);return n instanceof HTMLElement?u(n,t):n.map((function(e){return u(e,t)})).filter((function(e){return void 0!==e}))}function u(e,t){var n=e.querySelectorAll(t.viewRef),r={slider:e,views:n,open:function(e){var n=r.slider.querySelector("[data-slider-view=".concat(e,"]"));if(!n)return;r.views.forEach((function(e){e.classList.remove(t.activeClass),e.style.zIndex=0})),n.classList.add(t.activeClass),n.style.zIndex=1,r.openesdView=n},disableTransition:function(){r.slider.classList.add(t.noTransitionClass)},enableTransition:function(){r.slider.classList.remove(t.noTransitionClass)}};return r.views.forEach(o),r.slider._slider=r,r;function o(e,t){e.style.left=0===t?"100%":"-".concat(100*(t-1),"%")}}},,function(e,t,n){"use strict";n.r(t);var r=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).slice().map((function(e){e(n)})),(e["*"]||[]).slice().map((function(e){e(t,n)}))}}},o=n(1),a=n(5);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){var n=t.querySelector(e.element),r=e.errorMessage;if(!n)return console.error("[Form Validation] element not found for selector: ".concat(e.element));!function(e,t){$(e).on("change",(function(e){u.call(this,e,t)}))}(n,r)}function u(e,t){s(this,t)}function s(e,t,n){return e.disabled?(n||d(e),!1):""===e.value?(n||function(e,t){var n=e.closest(".form-group");if(!n)return console.error("[Form Validation] the element must be inside a .form-group container");var r=n.querySelector(".form-help");if(n.classList.add("-error"),r)r.textContent=t;else{var o='<p class="form-help">'.concat(t,"</p>");n.insertAdjacentHTML("beforeend",o)}}(e,t),!0):(n||d(e),!1)}function f(e,t,n){var r=!1,o=e.map((function(e){var o=n.querySelector(e.element),a=e.errorMessage,i={result:s(o,a,t),error:null};return i.result?(r=!0,i.error=a,i):i})).filter((function(e){return null!==e.error}));return{hasErrors:r,errors:o}}function d(e){var t=e.closest(".form-group"),n=t.querySelector(".form-help");if(!t)return console.error("[Form Validation] the element must be inside a .form-group container");n&&n.remove(),t.classList.remove("-error")}var m=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(i(this,e),this.groups=t,this.context=n,!Array.isArray(t))return console.error("[Form Validation] config parameter must by a array with a element selector, error message and callback (optional)");this.groups.forEach((function(e){return l(e,n)}))}var t,n,r;return t=e,(n=[{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this.groups,e,this.context)}}])&&c(t.prototype,n),r&&c(t,r),e}())([{element:"[xname=inptipoPlano]",errorMessage:"Informe o tipo"},{element:"[xname=inpunidade]",errorMessage:"Informe a unidade"},{element:"[xname=inpgerencia]",errorMessage:"Informe a gerência"},{element:"[xname=inpperiodoInicio]",errorMessage:"Informe o início"}]),p=function(){var e={trigger:document.querySelector("#btn-risks-search"),pane:document.querySelector("#risk-start-message"),year:document.querySelector("[xname=inpperiodoInicio]"),planType:document.querySelector("[xname=inptipoPlano]"),unit:document.querySelector("[xname=inpunidade]"),management:document.querySelector("[xname=inpgerencia]"),department:document.querySelector("[xname=inpdepartamento]"),assigneeArea:document.querySelector("[xname=inpareaResponsavel]"),areaName:document.querySelector("[xname=inptextoAreaResponsavel]")},t={emitter:null};return{mount:function(o){var a=o.emitter;t.emitter=a,e.trigger.addEventListener("click",r),i=[e.department,e.management,e.unit],c={type:e.planType,management:e.management,unit:e.unit},e.planType.addEventListener("change",(function(){return n(e.planType.value)})),i.forEach((function(t){t.addEventListener("change",(function(){return function(t){var n,r,o,a,i=(n={type:t.type.value,management:t.management.value,unit:t.unit.value},r=n.type,o=n.management,a=n.unit,"Departamento Regional"===r?{codarea:"4001",areaName:v("departamento")}:"Gerência de Negócio/Suporte"===r?{codarea:o,areaName:v("gerencia")}:"Gerência de Unidade"===r?{codarea:a,areaName:v("unidade")}:null);if(!i)return e.assigneeArea.value="",void(e.areaName.value="");e.assigneeArea.value=i.codarea,e.areaName.value=i.areaName}(c)}))})),n(e.planType.value),$(e.year).datepicker({language:"pt-BR",startView:"months",minViewMode:"months",format:"M/yyyy"}),e.year.autocomplete="off";var i,c}};function n(t){var n=new Event("change");!function(e){e.forEach((function(e){e.disabled=!0}))}([e.department,e.unit,e.management]),"Departamento Regional"===t?(e.department.disabled=!1,e.department.value="Sesi Bahia",e.department.dispatchEvent(n),o.a.showField("departamento"),o.a.hideField("gerencia"),o.a.hideField("unidade")):"Gerência de Negócio/Suporte"===t?(e.management.disabled=!1,o.a.showField("gerencia"),o.a.hideField("departamento"),o.a.hideField("unidade")):"Gerência de Unidade"===t?(e.unit.disabled=!1,o.a.showField("unidade"),o.a.hideField("departamento"),o.a.hideField("gerencia")):(o.a.hideField("unidade"),o.a.hideField("departamento"),o.a.hideField("gerencia"))}function r(t){var n,r,o=m.validate().hasErrors;if(t.preventDefault(),o)return o;n=e.unit.value,r=e.unit.value,[e.trigger,e.pane].forEach((function(e){return e.classList.add("-loading")})),a.a.getRisks({unitId:n,year:r}).then(i).catch(c)}function i(e){t.emitter.emit("search-done",e),l()}function c(e){console.error(e),l()}function l(){[e.trigger,e.pane].forEach((function(e){return e.classList.remove("-loading")}))}}();function v(e){var t=document.querySelector("[xname=inp".concat(e,"]")),n=t.tagName.toLocaleLowerCase();return"input"===n?t.value:"select"===n?t.querySelector("option:checked").textContent:null}var b=n(3),y=n(4);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={drawerOpenClass:"-open",titleRef:"[data-drawer-title]",openRef:"[data-drawer-open]",closeRef:"[data-drawer-close]",confirmRef:"[data-drawer-confirm]",removeRef:"[data-drawer-remove]",enableRemove:!1,closeOnClickOutside:!1,confirmText:"Confirmar"};function x(e,t){var n=new Event("change"),r=document.querySelectorAll(t.openRef),o=e.querySelectorAll(t.closeRef),a=e.querySelector(t.confirmRef),i=e.querySelector(t.removeRef),c=e.querySelector(t.titleRef),l=document.body,u={isOpen:!1,ref:null},s={title:t.title,confirmText:t.confirmText,enableRemove:t.enableRemove,onConfirm:t.onConfirm,onRemove:t.onRemove},f={drawer:e,open:p,close:v,populate:function(e){Object.entries(e).forEach((function(e){var t=g(e,2),r=t[0],o=t[1],a=f.drawer.querySelector("[name=".concat(r,"]"));a&&(a.value=o,a.dispatchEvent(n))}))}};return r.forEach((function(e){return e.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),p(s)}))})),o.forEach((function(e){return e.addEventListener("click",(function(e){e.preventDefault(),v()}))})),a.addEventListener("click",(function(e){var t=h(f.drawer.querySelectorAll("[name]")).reduce((function(e,t){var n=t.getAttribute("name");return S(S({},e),{},E({},n,t.value))}),{});e.preventDefault(),u.onConfirm&&(u.onConfirm(u.ref,t),v())})),i.addEventListener("click",(function(e){e.preventDefault(),u.onRemove&&(u.onRemove(u.ref),v())})),d(s),f.drawer._drawer=f,f;function d(e){e.enableRemove?i.style.display="initial":i.style.display="none",e.ref&&(u.ref=e.ref),e.onRemove&&(u.onRemove=e.onRemove),e.onConfirm&&(u.onConfirm=e.onConfirm),c.textContent=e.title,a.textContent=e.confirmText}function m(e){f.drawer.contains(e.target)||v()}function p(e){f.drawer.classList.add(t.drawerOpenClass),u.open=!0,e&&d(e),l.style.overflow="hidden",t.closeOnClickOutside&&l.addEventListener("click",m,!1)}function v(){f.drawer.classList.remove(t.drawerOpenClass),u.open=!1,f.drawer.querySelectorAll("[name]").forEach((function(e){e.value=null,e.dispatchEvent(n)})),l.style.overflow="initial",t.closeOnClickOutside&&l.removeEventListener("click",m,!1)}}var P=n(0);function k(e,t){return e.split(t)[1].trim()}function q(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F={groupClass:"btn-radio-group",btnClass:"btn-radio",activeClass:"-active",hidePrefix:!1,splitSeparator:"."};function _(e,t){var n=new Event("change"),r=function(e,t){var n=e.querySelector("select[xname]"),r=e.querySelector("div[xid]"),o=e.querySelector("input[type=hidden][xname]");if(!n&&!r&&!o)throw new P.a({name:t.name,message:"Erro ao criar a instância do componente.\nNenhum campo do Orquestra encontrado para a referência informada",type:"instace_field_not_found"});return{select:n,textvalue:r}}(e,t),o=r.select,a=r.textvalue;if(a&&t.hidePrefix&&function(e){var n=k(e.textContent,t.splitSeparator);e.textContent=n}(a),o){var i=function(e,t){var n=function(e,t){var n=t.groupClass,r=t.btnClass,o=e.map((function(e){return function(e,t){var n=e.value,r=e.label;return'<button type="button" class="btn '.concat(t,'" data-option="').concat(n,'">').concat(r,"</button>")}(e,r)}));return'<div class="btn-group '.concat(n,'">').concat(o.join(""),"</div>")}(function(e,t){return q(e.options).filter((function(e){return e.value})).map((function(e){var n=e.value;return{value:n,label:t.hidePrefix?k(n,t.splitSeparator):n}}))}(e,t),t);e.insertAdjacentHTML("afterend",n),e.style.display="none";var r=e.nextSibling,o=r.querySelectorAll(".".concat(t.btnClass));return{buttonGroup:r,buttons:o}}(o,t),c=i.buttons,l=i.buttonGroup,u={value:"",isEnable:!0},s={state:u,element:e,select:o,buttonGroup:l,buttons:q(c),reset:m,set:p,get:function(){return u.value}};return function(e,t){e.forEach((function(e){e.addEventListener("click",d)})),t.addEventListener("change",f)}(c,o),""!==o.value&&p(o.value,!0),e._buttonGroup=s,s}function f(){var e=this.value;""===e?m():p(e,!0)}function d(e,r){var o=this.dataset.option;m(),this.classList.add(t.activeClass),s.select.value=o,u.value=o,r||s.select.dispatchEvent(n)}function m(){u.value="",s.select.value="",s.buttons.forEach((function(e){e.classList.remove(t.activeClass)}))}function p(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=s.buttons.find((function(t){return t.dataset.option===e}));if(!r)throw new P.a({name:t.name,message:"Erro ao realizar set para novo valor.\nNão foi encontrada nenhuma opção para o valor ".concat(e),type:"option_not_found"});d.call(r,null,n)}}function M(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var z=function(){var e={drawer:document.querySelector("#risk-drawer"),probability:document.querySelector("[name=riscoProbabilidade]"),impact:document.querySelector("[name=riscoImpacto]"),level:document.querySelector("[name=riscoNivel]"),cells:document.querySelectorAll("#risk-drawer .matrix-cell-inner")},t={emitter:null};return{mount:function(a){var c=a.emitter;t.emitter=c,t.drawer=function(e,t){t=S(S(S({},A),t),{},{name:"Drawer"});var n=Object(y.a)(e,t.name);return n instanceof HTMLElement?x(n,t):n.map((function(e){return x(e,t)})).filter((function(e){return void 0!==e}))}(e.drawer,{onConfirm:n,title:"Adicionar Item",confirmText:"Adicionar"}),function(e,t){t=R(R(R({},F),t),{},{name:"ButtonRadio"});var n=Object(y.a)(e,t.name);n instanceof HTMLElement?_(C(n,1)[0],t):n.map((function(e){return _(e,t)})).filter((function(e){return void 0!==e}))}("[data-btn-radio]"),e.btnConfirm=e.drawer.querySelector("[data-drawer-confirm]"),e.fields=M(e.drawer.querySelectorAll("[name]")),e.btnConfirm.disabled=!0,e.fields.forEach((function(e){return e.addEventListener("change",r)})),[e.probability,e.impact].forEach((function(e){return e.addEventListener("change",i)})),e.drawer.querySelectorAll("[data-btn-hint]").forEach(o)},open:function(e){var n=e.data,r=H(e,["data"]);n&&t.drawer.populate(n);i(),t.drawer.open(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:"Editar Item",confirmText:"Salvar",enableRemove:!0},r))},disabledRemove:function(){e.drawer.querySelectorAll("[data-drawer-remove]").forEach((function(e){return e.remove()}))}};function n(e,n){t.emitter.emit("drawer-add",n)}function r(){var t=!e.fields.some((function(e){return!e.value}));e.btnConfirm.disabled=!t}function o(e){var t=e.querySelectorAll(".btn-radio"),n=e.querySelector("select"),r=M(e.nextElementSibling.querySelectorAll("[data-hint]"));n.addEventListener("change",(function(e){var t=e.target.value;!function(e){e.forEach((function(e){e.style.display="none"}))}(r),t&&a({option:t,hints:r,display:"initial"})})),t.forEach((function(e){e.addEventListener("mouseenter",(function(e){n.value||a({option:e.target.dataset.option,hints:r,display:"initial"})})),e.addEventListener("mouseleave",(function(e){n.value||a({option:e.target.dataset.option,hints:r,display:"none"})}))}))}function a(e){var t=e.option,n=e.hints,r=e.display,o=function(e,t){return e.find((function(e){return e.dataset.hint===t}))}(n,t);o&&(o.style.display=r)}function i(){var t=V(e.probability.value),n=V(e.impact.value);if(e.cells.forEach((function(e){e.dataset.value=""})),t&&n){var r=t*n,o=t+3*(n-1);e.level.value=r,e.cells[o-1].dataset.value=r}}}();function V(e){return"baixo"===(e=e.toLowerCase())||"baixa"===e?1:"médio"===e||"média"===e?2:"alto"===e||"alta"===e?3:null}var G=n(6),X=n(7),J=function(){var e={slider:document.querySelector("#risk-slider")},t={views:{plan:"risk-plan",search:"risk-search"},emitter:null};return{init:function(i){var c=i.alias,l=i.emitter,u=["pesquisa","validacao","monitoramento","reavaliacao"].includes(c);t.emitter=l,t.alias=c,t.slider=Object(X.a)(e.slider),t.emitter.on("search-done",n),t.emitter.on("search-return",r),t.emitter.on("drawer-edit",o),t.emitter.on("drawer-edit-save",a),t.emitter.on("drawer-add",b.a.append),u&&function(){var e=t.emitter;t.slider.disableTransition(),"pesquisa"===t.alias&&(p.mount({emitter:e}),b.a.mount({emitter:e}),z.mount({emitter:e}),t.slider.open(t.views.search),setTimeout((function(){return t.slider.enableTransition()}),100));"validacao"===t.alias&&(b.a.mount({emitter:e}),z.mount({emitter:e}),t.slider.open(t.views.plan));if("monitoramento"===t.alias){b.a.mount({emitter:e,props:{editable:!1,removeable:!1,static:!0}}),G.a.mount({emitter:e}),t.slider.open(t.views.plan)}if("reavaliacao"===t.alias){b.a.mount({emitter:e,props:{removeable:!1,static:!0}}),z.mount({emitter:e}),G.a.mount({emitter:e}),z.disabledRemove(),t.slider.open(t.views.plan)}}()}};function n(e){t.slider.open(t.views.plan),b.a.populate(e)}function r(){t.slider.open(t.views.search),b.a.clear()}function o(e){z.open(e)}function a(e){"reavaliacao"===t.alias&&G.a.appendActions(e.riscoDescricao)}}(),K=r(),Q=document.querySelector("#inpDsFlowElementAlias").value;o.a.conditionals(),J.init({alias:Q,emitter:K})}]);
//# sourceMappingURL=app.bundle.a4a17.min.js.map